/* Generated by Cython 0.23.4 */

/* BEGIN: Cython Metadata
{
    "distutils": {
        "depends": []
    }
}
END: Cython Metadata */

#define PY_SSIZE_T_CLEAN
#include "Python.h"
#ifndef Py_PYTHON_H
    #error Python headers needed to compile C extensions, please install development version of Python.
#elif PY_VERSION_HEX < 0x02060000 || (0x03000000 <= PY_VERSION_HEX && PY_VERSION_HEX < 0x03020000)
    #error Cython requires Python 2.6+ or Python 3.2+.
#else
#define CYTHON_ABI "0_23_4"
#include <stddef.h>
#ifndef offsetof
#define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
#endif
#if !defined(WIN32) && !defined(MS_WINDOWS)
  #ifndef __stdcall
    #define __stdcall
  #endif
  #ifndef __cdecl
    #define __cdecl
  #endif
  #ifndef __fastcall
    #define __fastcall
  #endif
#endif
#ifndef DL_IMPORT
  #define DL_IMPORT(t) t
#endif
#ifndef DL_EXPORT
  #define DL_EXPORT(t) t
#endif
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#ifndef Py_HUGE_VAL
  #define Py_HUGE_VAL HUGE_VAL
#endif
#ifdef PYPY_VERSION
#define CYTHON_COMPILING_IN_PYPY 1
#define CYTHON_COMPILING_IN_CPYTHON 0
#else
#define CYTHON_COMPILING_IN_PYPY 0
#define CYTHON_COMPILING_IN_CPYTHON 1
#endif
#if !defined(CYTHON_USE_PYLONG_INTERNALS) && CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX >= 0x02070000
#define CYTHON_USE_PYLONG_INTERNALS 1
#endif
#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX < 0x02070600 && !defined(Py_OptimizeFlag)
#define Py_OptimizeFlag 0
#endif
#define __PYX_BUILD_PY_SSIZE_T "n"
#define CYTHON_FORMAT_SSIZE_T "z"
#if PY_MAJOR_VERSION < 3
  #define __Pyx_BUILTIN_MODULE_NAME "__builtin__"
  #define __Pyx_PyCode_New(a, k, l, s, f, code, c, n, v, fv, cell, fn, name, fline, lnos)\
          PyCode_New(a+k, l, s, f, code, c, n, v, fv, cell, fn, name, fline, lnos)
  #define __Pyx_DefaultClassType PyClass_Type
#else
  #define __Pyx_BUILTIN_MODULE_NAME "builtins"
  #define __Pyx_PyCode_New(a, k, l, s, f, code, c, n, v, fv, cell, fn, name, fline, lnos)\
          PyCode_New(a, k, l, s, f, code, c, n, v, fv, cell, fn, name, fline, lnos)
  #define __Pyx_DefaultClassType PyType_Type
#endif
#ifndef Py_TPFLAGS_CHECKTYPES
  #define Py_TPFLAGS_CHECKTYPES 0
#endif
#ifndef Py_TPFLAGS_HAVE_INDEX
  #define Py_TPFLAGS_HAVE_INDEX 0
#endif
#ifndef Py_TPFLAGS_HAVE_NEWBUFFER
  #define Py_TPFLAGS_HAVE_NEWBUFFER 0
#endif
#ifndef Py_TPFLAGS_HAVE_FINALIZE
  #define Py_TPFLAGS_HAVE_FINALIZE 0
#endif
#if PY_VERSION_HEX > 0x03030000 && defined(PyUnicode_KIND)
  #define CYTHON_PEP393_ENABLED 1
  #define __Pyx_PyUnicode_READY(op)       (likely(PyUnicode_IS_READY(op)) ?\
                                              0 : _PyUnicode_Ready((PyObject *)(op)))
  #define __Pyx_PyUnicode_GET_LENGTH(u)   PyUnicode_GET_LENGTH(u)
  #define __Pyx_PyUnicode_READ_CHAR(u, i) PyUnicode_READ_CHAR(u, i)
  #define __Pyx_PyUnicode_KIND(u)         PyUnicode_KIND(u)
  #define __Pyx_PyUnicode_DATA(u)         PyUnicode_DATA(u)
  #define __Pyx_PyUnicode_READ(k, d, i)   PyUnicode_READ(k, d, i)
#else
  #define CYTHON_PEP393_ENABLED 0
  #define __Pyx_PyUnicode_READY(op)       (0)
  #define __Pyx_PyUnicode_GET_LENGTH(u)   PyUnicode_GET_SIZE(u)
  #define __Pyx_PyUnicode_READ_CHAR(u, i) ((Py_UCS4)(PyUnicode_AS_UNICODE(u)[i]))
  #define __Pyx_PyUnicode_KIND(u)         (sizeof(Py_UNICODE))
  #define __Pyx_PyUnicode_DATA(u)         ((void*)PyUnicode_AS_UNICODE(u))
  #define __Pyx_PyUnicode_READ(k, d, i)   ((void)(k), (Py_UCS4)(((Py_UNICODE*)d)[i]))
#endif
#if CYTHON_COMPILING_IN_PYPY
  #define __Pyx_PyUnicode_Concat(a, b)      PyNumber_Add(a, b)
  #define __Pyx_PyUnicode_ConcatSafe(a, b)  PyNumber_Add(a, b)
#else
  #define __Pyx_PyUnicode_Concat(a, b)      PyUnicode_Concat(a, b)
  #define __Pyx_PyUnicode_ConcatSafe(a, b)  ((unlikely((a) == Py_None) || unlikely((b) == Py_None)) ?\
      PyNumber_Add(a, b) : __Pyx_PyUnicode_Concat(a, b))
#endif
#if CYTHON_COMPILING_IN_PYPY && !defined(PyUnicode_Contains)
  #define PyUnicode_Contains(u, s)  PySequence_Contains(u, s)
#endif
#define __Pyx_PyString_FormatSafe(a, b)   ((unlikely((a) == Py_None)) ? PyNumber_Remainder(a, b) : __Pyx_PyString_Format(a, b))
#define __Pyx_PyUnicode_FormatSafe(a, b)  ((unlikely((a) == Py_None)) ? PyNumber_Remainder(a, b) : PyUnicode_Format(a, b))
#if PY_MAJOR_VERSION >= 3
  #define __Pyx_PyString_Format(a, b)  PyUnicode_Format(a, b)
#else
  #define __Pyx_PyString_Format(a, b)  PyString_Format(a, b)
#endif
#if PY_MAJOR_VERSION >= 3
  #define PyBaseString_Type            PyUnicode_Type
  #define PyStringObject               PyUnicodeObject
  #define PyString_Type                PyUnicode_Type
  #define PyString_Check               PyUnicode_Check
  #define PyString_CheckExact          PyUnicode_CheckExact
#endif
#if PY_MAJOR_VERSION >= 3
  #define __Pyx_PyBaseString_Check(obj) PyUnicode_Check(obj)
  #define __Pyx_PyBaseString_CheckExact(obj) PyUnicode_CheckExact(obj)
#else
  #define __Pyx_PyBaseString_Check(obj) (PyString_Check(obj) || PyUnicode_Check(obj))
  #define __Pyx_PyBaseString_CheckExact(obj) (PyString_CheckExact(obj) || PyUnicode_CheckExact(obj))
#endif
#ifndef PySet_CheckExact
  #define PySet_CheckExact(obj)        (Py_TYPE(obj) == &PySet_Type)
#endif
#define __Pyx_TypeCheck(obj, type) PyObject_TypeCheck(obj, (PyTypeObject *)type)
#if PY_MAJOR_VERSION >= 3
  #define PyIntObject                  PyLongObject
  #define PyInt_Type                   PyLong_Type
  #define PyInt_Check(op)              PyLong_Check(op)
  #define PyInt_CheckExact(op)         PyLong_CheckExact(op)
  #define PyInt_FromString             PyLong_FromString
  #define PyInt_FromUnicode            PyLong_FromUnicode
  #define PyInt_FromLong               PyLong_FromLong
  #define PyInt_FromSize_t             PyLong_FromSize_t
  #define PyInt_FromSsize_t            PyLong_FromSsize_t
  #define PyInt_AsLong                 PyLong_AsLong
  #define PyInt_AS_LONG                PyLong_AS_LONG
  #define PyInt_AsSsize_t              PyLong_AsSsize_t
  #define PyInt_AsUnsignedLongMask     PyLong_AsUnsignedLongMask
  #define PyInt_AsUnsignedLongLongMask PyLong_AsUnsignedLongLongMask
  #define PyNumber_Int                 PyNumber_Long
#endif
#if PY_MAJOR_VERSION >= 3
  #define PyBoolObject                 PyLongObject
#endif
#if PY_MAJOR_VERSION >= 3 && CYTHON_COMPILING_IN_PYPY
  #ifndef PyUnicode_InternFromString
    #define PyUnicode_InternFromString(s) PyUnicode_FromString(s)
  #endif
#endif
#if PY_VERSION_HEX < 0x030200A4
  typedef long Py_hash_t;
  #define __Pyx_PyInt_FromHash_t PyInt_FromLong
  #define __Pyx_PyInt_AsHash_t   PyInt_AsLong
#else
  #define __Pyx_PyInt_FromHash_t PyInt_FromSsize_t
  #define __Pyx_PyInt_AsHash_t   PyInt_AsSsize_t
#endif
#if PY_MAJOR_VERSION >= 3
  #define __Pyx_PyMethod_New(func, self, klass) ((self) ? PyMethod_New(func, self) : PyInstanceMethod_New(func))
#else
  #define __Pyx_PyMethod_New(func, self, klass) PyMethod_New(func, self, klass)
#endif
#if PY_VERSION_HEX >= 0x030500B1
#define __Pyx_PyAsyncMethodsStruct PyAsyncMethods
#define __Pyx_PyType_AsAsync(obj) (Py_TYPE(obj)->tp_as_async)
#elif CYTHON_COMPILING_IN_CPYTHON && PY_MAJOR_VERSION >= 3
typedef struct {
    unaryfunc am_await;
    unaryfunc am_aiter;
    unaryfunc am_anext;
} __Pyx_PyAsyncMethodsStruct;
#define __Pyx_PyType_AsAsync(obj) ((__Pyx_PyAsyncMethodsStruct*) (Py_TYPE(obj)->tp_reserved))
#else
#define __Pyx_PyType_AsAsync(obj) NULL
#endif
#ifndef CYTHON_RESTRICT
  #if defined(__GNUC__)
    #define CYTHON_RESTRICT __restrict__
  #elif defined(_MSC_VER) && _MSC_VER >= 1400
    #define CYTHON_RESTRICT __restrict
  #elif defined (__STDC_VERSION__) && __STDC_VERSION__ >= 199901L
    #define CYTHON_RESTRICT restrict
  #else
    #define CYTHON_RESTRICT
  #endif
#endif
#define __Pyx_void_to_None(void_result) ((void)(void_result), Py_INCREF(Py_None), Py_None)

#ifndef CYTHON_INLINE
  #if defined(__GNUC__)
    #define CYTHON_INLINE __inline__
  #elif defined(_MSC_VER)
    #define CYTHON_INLINE __inline
  #elif defined (__STDC_VERSION__) && __STDC_VERSION__ >= 199901L
    #define CYTHON_INLINE inline
  #else
    #define CYTHON_INLINE
  #endif
#endif

#if defined(WIN32) || defined(MS_WINDOWS)
  #define _USE_MATH_DEFINES
#endif
#include <math.h>
#ifdef NAN
#define __PYX_NAN() ((float) NAN)
#else
static CYTHON_INLINE float __PYX_NAN() {
  float value;
  memset(&value, 0xFF, sizeof(value));
  return value;
}
#endif


#if PY_MAJOR_VERSION >= 3
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_TrueDivide(x,y)
  #define __Pyx_PyNumber_InPlaceDivide(x,y)  PyNumber_InPlaceTrueDivide(x,y)
#else
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_Divide(x,y)
  #define __Pyx_PyNumber_InPlaceDivide(x,y)  PyNumber_InPlaceDivide(x,y)
#endif

#ifndef __PYX_EXTERN_C
  #ifdef __cplusplus
    #define __PYX_EXTERN_C extern "C"
  #else
    #define __PYX_EXTERN_C extern
  #endif
#endif

#define __PYX_HAVE__skimage__filters__rank__generic_cy
#define __PYX_HAVE_API__skimage__filters__rank__generic_cy
#include "string.h"
#include "stdio.h"
#include "stdlib.h"
#include "numpy/arrayobject.h"
#include "numpy/ufuncobject.h"
#include "math.h"
#include "pythread.h"
#include "pystate.h"
#ifdef _OPENMP
#include <omp.h>
#endif /* _OPENMP */

#ifdef PYREX_WITHOUT_ASSERTIONS
#define CYTHON_WITHOUT_ASSERTIONS
#endif

#ifndef CYTHON_UNUSED
# if defined(__GNUC__)
#   if !(defined(__cplusplus)) || (__GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4))
#     define CYTHON_UNUSED __attribute__ ((__unused__))
#   else
#     define CYTHON_UNUSED
#   endif
# elif defined(__ICC) || (defined(__INTEL_COMPILER) && !defined(_MSC_VER))
#   define CYTHON_UNUSED __attribute__ ((__unused__))
# else
#   define CYTHON_UNUSED
# endif
#endif
#ifndef CYTHON_NCP_UNUSED
# if CYTHON_COMPILING_IN_CPYTHON
#  define CYTHON_NCP_UNUSED
# else
#  define CYTHON_NCP_UNUSED CYTHON_UNUSED
# endif
#endif
typedef struct {PyObject **p; char *s; const Py_ssize_t n; const char* encoding;
                const char is_unicode; const char is_str; const char intern; } __Pyx_StringTabEntry;

#define __PYX_DEFAULT_STRING_ENCODING_IS_ASCII 0
#define __PYX_DEFAULT_STRING_ENCODING_IS_DEFAULT 0
#define __PYX_DEFAULT_STRING_ENCODING ""
#define __Pyx_PyObject_FromString __Pyx_PyBytes_FromString
#define __Pyx_PyObject_FromStringAndSize __Pyx_PyBytes_FromStringAndSize
#define __Pyx_uchar_cast(c) ((unsigned char)c)
#define __Pyx_long_cast(x) ((long)x)
#define __Pyx_fits_Py_ssize_t(v, type, is_signed)  (\
    (sizeof(type) < sizeof(Py_ssize_t))  ||\
    (sizeof(type) > sizeof(Py_ssize_t) &&\
          likely(v < (type)PY_SSIZE_T_MAX ||\
                 v == (type)PY_SSIZE_T_MAX)  &&\
          (!is_signed || likely(v > (type)PY_SSIZE_T_MIN ||\
                                v == (type)PY_SSIZE_T_MIN)))  ||\
    (sizeof(type) == sizeof(Py_ssize_t) &&\
          (is_signed || likely(v < (type)PY_SSIZE_T_MAX ||\
                               v == (type)PY_SSIZE_T_MAX)))  )
#if defined (__cplusplus) && __cplusplus >= 201103L
    #include <cstdlib>
    #define __Pyx_sst_abs(value) std::abs(value)
#elif SIZEOF_INT >= SIZEOF_SIZE_T
    #define __Pyx_sst_abs(value) abs(value)
#elif SIZEOF_LONG >= SIZEOF_SIZE_T
    #define __Pyx_sst_abs(value) labs(value)
#elif defined (_MSC_VER) && defined (_M_X64)
    #define __Pyx_sst_abs(value) _abs64(value)
#elif defined (__STDC_VERSION__) && __STDC_VERSION__ >= 199901L
    #define __Pyx_sst_abs(value) llabs(value)
#elif defined (__GNUC__)
    #define __Pyx_sst_abs(value) __builtin_llabs(value)
#else
    #define __Pyx_sst_abs(value) ((value<0) ? -value : value)
#endif
static CYTHON_INLINE char* __Pyx_PyObject_AsString(PyObject*);
static CYTHON_INLINE char* __Pyx_PyObject_AsStringAndSize(PyObject*, Py_ssize_t* length);
#define __Pyx_PyByteArray_FromString(s) PyByteArray_FromStringAndSize((const char*)s, strlen((const char*)s))
#define __Pyx_PyByteArray_FromStringAndSize(s, l) PyByteArray_FromStringAndSize((const char*)s, l)
#define __Pyx_PyBytes_FromString        PyBytes_FromString
#define __Pyx_PyBytes_FromStringAndSize PyBytes_FromStringAndSize
static CYTHON_INLINE PyObject* __Pyx_PyUnicode_FromString(const char*);
#if PY_MAJOR_VERSION < 3
    #define __Pyx_PyStr_FromString        __Pyx_PyBytes_FromString
    #define __Pyx_PyStr_FromStringAndSize __Pyx_PyBytes_FromStringAndSize
#else
    #define __Pyx_PyStr_FromString        __Pyx_PyUnicode_FromString
    #define __Pyx_PyStr_FromStringAndSize __Pyx_PyUnicode_FromStringAndSize
#endif
#define __Pyx_PyObject_AsSString(s)    ((signed char*) __Pyx_PyObject_AsString(s))
#define __Pyx_PyObject_AsUString(s)    ((unsigned char*) __Pyx_PyObject_AsString(s))
#define __Pyx_PyObject_FromCString(s)  __Pyx_PyObject_FromString((const char*)s)
#define __Pyx_PyBytes_FromCString(s)   __Pyx_PyBytes_FromString((const char*)s)
#define __Pyx_PyByteArray_FromCString(s)   __Pyx_PyByteArray_FromString((const char*)s)
#define __Pyx_PyStr_FromCString(s)     __Pyx_PyStr_FromString((const char*)s)
#define __Pyx_PyUnicode_FromCString(s) __Pyx_PyUnicode_FromString((const char*)s)
#if PY_MAJOR_VERSION < 3
static CYTHON_INLINE size_t __Pyx_Py_UNICODE_strlen(const Py_UNICODE *u)
{
    const Py_UNICODE *u_end = u;
    while (*u_end++) ;
    return (size_t)(u_end - u - 1);
}
#else
#define __Pyx_Py_UNICODE_strlen Py_UNICODE_strlen
#endif
#define __Pyx_PyUnicode_FromUnicode(u)       PyUnicode_FromUnicode(u, __Pyx_Py_UNICODE_strlen(u))
#define __Pyx_PyUnicode_FromUnicodeAndLength PyUnicode_FromUnicode
#define __Pyx_PyUnicode_AsUnicode            PyUnicode_AsUnicode
#define __Pyx_NewRef(obj) (Py_INCREF(obj), obj)
#define __Pyx_Owned_Py_None(b) __Pyx_NewRef(Py_None)
#define __Pyx_PyBool_FromLong(b) ((b) ? __Pyx_NewRef(Py_True) : __Pyx_NewRef(Py_False))
static CYTHON_INLINE int __Pyx_PyObject_IsTrue(PyObject*);
static CYTHON_INLINE PyObject* __Pyx_PyNumber_Int(PyObject* x);
static CYTHON_INLINE Py_ssize_t __Pyx_PyIndex_AsSsize_t(PyObject*);
static CYTHON_INLINE PyObject * __Pyx_PyInt_FromSize_t(size_t);
#if CYTHON_COMPILING_IN_CPYTHON
#define __pyx_PyFloat_AsDouble(x) (PyFloat_CheckExact(x) ? PyFloat_AS_DOUBLE(x) : PyFloat_AsDouble(x))
#else
#define __pyx_PyFloat_AsDouble(x) PyFloat_AsDouble(x)
#endif
#define __pyx_PyFloat_AsFloat(x) ((float) __pyx_PyFloat_AsDouble(x))
#if PY_MAJOR_VERSION < 3 && __PYX_DEFAULT_STRING_ENCODING_IS_ASCII
static int __Pyx_sys_getdefaultencoding_not_ascii;
static int __Pyx_init_sys_getdefaultencoding_params(void) {
    PyObject* sys;
    PyObject* default_encoding = NULL;
    PyObject* ascii_chars_u = NULL;
    PyObject* ascii_chars_b = NULL;
    const char* default_encoding_c;
    sys = PyImport_ImportModule("sys");
    if (!sys) goto bad;
    default_encoding = PyObject_CallMethod(sys, (char*) "getdefaultencoding", NULL);
    Py_DECREF(sys);
    if (!default_encoding) goto bad;
    default_encoding_c = PyBytes_AsString(default_encoding);
    if (!default_encoding_c) goto bad;
    if (strcmp(default_encoding_c, "ascii") == 0) {
        __Pyx_sys_getdefaultencoding_not_ascii = 0;
    } else {
        char ascii_chars[128];
        int c;
        for (c = 0; c < 128; c++) {
            ascii_chars[c] = c;
        }
        __Pyx_sys_getdefaultencoding_not_ascii = 1;
        ascii_chars_u = PyUnicode_DecodeASCII(ascii_chars, 128, NULL);
        if (!ascii_chars_u) goto bad;
        ascii_chars_b = PyUnicode_AsEncodedString(ascii_chars_u, default_encoding_c, NULL);
        if (!ascii_chars_b || !PyBytes_Check(ascii_chars_b) || memcmp(ascii_chars, PyBytes_AS_STRING(ascii_chars_b), 128) != 0) {
            PyErr_Format(
                PyExc_ValueError,
                "This module compiled with c_string_encoding=ascii, but default encoding '%.200s' is not a superset of ascii.",
                default_encoding_c);
            goto bad;
        }
        Py_DECREF(ascii_chars_u);
        Py_DECREF(ascii_chars_b);
    }
    Py_DECREF(default_encoding);
    return 0;
bad:
    Py_XDECREF(default_encoding);
    Py_XDECREF(ascii_chars_u);
    Py_XDECREF(ascii_chars_b);
    return -1;
}
#endif
#if __PYX_DEFAULT_STRING_ENCODING_IS_DEFAULT && PY_MAJOR_VERSION >= 3
#define __Pyx_PyUnicode_FromStringAndSize(c_str, size) PyUnicode_DecodeUTF8(c_str, size, NULL)
#else
#define __Pyx_PyUnicode_FromStringAndSize(c_str, size) PyUnicode_Decode(c_str, size, __PYX_DEFAULT_STRING_ENCODING, NULL)
#if __PYX_DEFAULT_STRING_ENCODING_IS_DEFAULT
static char* __PYX_DEFAULT_STRING_ENCODING;
static int __Pyx_init_sys_getdefaultencoding_params(void) {
    PyObject* sys;
    PyObject* default_encoding = NULL;
    char* default_encoding_c;
    sys = PyImport_ImportModule("sys");
    if (!sys) goto bad;
    default_encoding = PyObject_CallMethod(sys, (char*) (const char*) "getdefaultencoding", NULL);
    Py_DECREF(sys);
    if (!default_encoding) goto bad;
    default_encoding_c = PyBytes_AsString(default_encoding);
    if (!default_encoding_c) goto bad;
    __PYX_DEFAULT_STRING_ENCODING = (char*) malloc(strlen(default_encoding_c));
    if (!__PYX_DEFAULT_STRING_ENCODING) goto bad;
    strcpy(__PYX_DEFAULT_STRING_ENCODING, default_encoding_c);
    Py_DECREF(default_encoding);
    return 0;
bad:
    Py_XDECREF(default_encoding);
    return -1;
}
#endif
#endif


/* Test for GCC > 2.95 */
#if defined(__GNUC__)     && (__GNUC__ > 2 || (__GNUC__ == 2 && (__GNUC_MINOR__ > 95)))
  #define likely(x)   __builtin_expect(!!(x), 1)
  #define unlikely(x) __builtin_expect(!!(x), 0)
#else /* !__GNUC__ or GCC < 2.95 */
  #define likely(x)   (x)
  #define unlikely(x) (x)
#endif /* __GNUC__ */

static PyObject *__pyx_m;
static PyObject *__pyx_d;
static PyObject *__pyx_b;
static PyObject *__pyx_empty_tuple;
static PyObject *__pyx_empty_bytes;
static int __pyx_lineno;
static int __pyx_clineno = 0;
static const char * __pyx_cfilenm= __FILE__;
static const char *__pyx_filename;

#if !defined(CYTHON_CCOMPLEX)
  #if defined(__cplusplus)
    #define CYTHON_CCOMPLEX 1
  #elif defined(_Complex_I)
    #define CYTHON_CCOMPLEX 1
  #else
    #define CYTHON_CCOMPLEX 0
  #endif
#endif
#if CYTHON_CCOMPLEX
  #ifdef __cplusplus
    #include <complex>
  #else
    #include <complex.h>
  #endif
#endif
#if CYTHON_CCOMPLEX && !defined(__cplusplus) && defined(__sun__) && defined(__GNUC__)
  #undef _Complex_I
  #define _Complex_I 1.0fj
#endif


static const char *__pyx_f[] = {
  "skimage/filters/rank/generic_cy.pyx",
  "__init__.pxd",
  "stringsource",
  "type.pxd",
};
struct __pyx_memoryview_obj;
typedef struct {
  struct __pyx_memoryview_obj *memview;
  char *data;
  Py_ssize_t shape[8];
  Py_ssize_t strides[8];
  Py_ssize_t suboffsets[8];
} __Pyx_memviewslice;

#define IS_UNSIGNED(type) (((type) -1) > 0)
struct __Pyx_StructField_;
#define __PYX_BUF_FLAGS_PACKED_STRUCT (1 << 0)
typedef struct {
  const char* name;
  struct __Pyx_StructField_* fields;
  size_t size;
  size_t arraysize[8];
  int ndim;
  char typegroup;
  char is_unsigned;
  int flags;
} __Pyx_TypeInfo;
typedef struct __Pyx_StructField_ {
  __Pyx_TypeInfo* type;
  const char* name;
  size_t offset;
} __Pyx_StructField;
typedef struct {
  __Pyx_StructField* field;
  size_t parent_offset;
} __Pyx_BufFmt_StackElem;
typedef struct {
  __Pyx_StructField root;
  __Pyx_BufFmt_StackElem* head;
  size_t fmt_offset;
  size_t new_count, enc_count;
  size_t struct_alignment;
  int is_complex;
  char enc_type;
  char new_packmode;
  char enc_packmode;
  char is_valid_array;
} __Pyx_BufFmt_Context;

#include <pythread.h>
#ifndef CYTHON_ATOMICS
    #define CYTHON_ATOMICS 1
#endif
#define __pyx_atomic_int_type int
#if CYTHON_ATOMICS && __GNUC__ >= 4 && (__GNUC_MINOR__ > 1 ||\
                    (__GNUC_MINOR__ == 1 && __GNUC_PATCHLEVEL >= 2)) &&\
                    !defined(__i386__)
    #define __pyx_atomic_incr_aligned(value, lock) __sync_fetch_and_add(value, 1)
    #define __pyx_atomic_decr_aligned(value, lock) __sync_fetch_and_sub(value, 1)
    #ifdef __PYX_DEBUG_ATOMICS
        #warning "Using GNU atomics"
    #endif
#elif CYTHON_ATOMICS && defined(_MSC_VER) && 0
    #include <Windows.h>
    #undef __pyx_atomic_int_type
    #define __pyx_atomic_int_type LONG
    #define __pyx_atomic_incr_aligned(value, lock) InterlockedIncrement(value)
    #define __pyx_atomic_decr_aligned(value, lock) InterlockedDecrement(value)
    #ifdef __PYX_DEBUG_ATOMICS
        #pragma message ("Using MSVC atomics")
    #endif
#elif CYTHON_ATOMICS && (defined(__ICC) || defined(__INTEL_COMPILER)) && 0
    #define __pyx_atomic_incr_aligned(value, lock) _InterlockedIncrement(value)
    #define __pyx_atomic_decr_aligned(value, lock) _InterlockedDecrement(value)
    #ifdef __PYX_DEBUG_ATOMICS
        #warning "Using Intel atomics"
    #endif
#else
    #undef CYTHON_ATOMICS
    #define CYTHON_ATOMICS 0
    #ifdef __PYX_DEBUG_ATOMICS
        #warning "Not using atomics"
    #endif
#endif
typedef volatile __pyx_atomic_int_type __pyx_atomic_int;
#if CYTHON_ATOMICS
    #define __pyx_add_acquisition_count(memview)\
             __pyx_atomic_incr_aligned(__pyx_get_slice_count_pointer(memview), memview->lock)
    #define __pyx_sub_acquisition_count(memview)\
            __pyx_atomic_decr_aligned(__pyx_get_slice_count_pointer(memview), memview->lock)
#else
    #define __pyx_add_acquisition_count(memview)\
            __pyx_add_acquisition_count_locked(__pyx_get_slice_count_pointer(memview), memview->lock)
    #define __pyx_sub_acquisition_count(memview)\
            __pyx_sub_acquisition_count_locked(__pyx_get_slice_count_pointer(memview), memview->lock)
#endif


/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":725
 * # in Cython to enable them only on the right systems.
 * 
 * ctypedef npy_int8       int8_t             # <<<<<<<<<<<<<<
 * ctypedef npy_int16      int16_t
 * ctypedef npy_int32      int32_t
 */
typedef npy_int8 __pyx_t_5numpy_int8_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":726
 * 
 * ctypedef npy_int8       int8_t
 * ctypedef npy_int16      int16_t             # <<<<<<<<<<<<<<
 * ctypedef npy_int32      int32_t
 * ctypedef npy_int64      int64_t
 */
typedef npy_int16 __pyx_t_5numpy_int16_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":727
 * ctypedef npy_int8       int8_t
 * ctypedef npy_int16      int16_t
 * ctypedef npy_int32      int32_t             # <<<<<<<<<<<<<<
 * ctypedef npy_int64      int64_t
 * #ctypedef npy_int96      int96_t
 */
typedef npy_int32 __pyx_t_5numpy_int32_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":728
 * ctypedef npy_int16      int16_t
 * ctypedef npy_int32      int32_t
 * ctypedef npy_int64      int64_t             # <<<<<<<<<<<<<<
 * #ctypedef npy_int96      int96_t
 * #ctypedef npy_int128     int128_t
 */
typedef npy_int64 __pyx_t_5numpy_int64_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":732
 * #ctypedef npy_int128     int128_t
 * 
 * ctypedef npy_uint8      uint8_t             # <<<<<<<<<<<<<<
 * ctypedef npy_uint16     uint16_t
 * ctypedef npy_uint32     uint32_t
 */
typedef npy_uint8 __pyx_t_5numpy_uint8_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":733
 * 
 * ctypedef npy_uint8      uint8_t
 * ctypedef npy_uint16     uint16_t             # <<<<<<<<<<<<<<
 * ctypedef npy_uint32     uint32_t
 * ctypedef npy_uint64     uint64_t
 */
typedef npy_uint16 __pyx_t_5numpy_uint16_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":734
 * ctypedef npy_uint8      uint8_t
 * ctypedef npy_uint16     uint16_t
 * ctypedef npy_uint32     uint32_t             # <<<<<<<<<<<<<<
 * ctypedef npy_uint64     uint64_t
 * #ctypedef npy_uint96     uint96_t
 */
typedef npy_uint32 __pyx_t_5numpy_uint32_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":735
 * ctypedef npy_uint16     uint16_t
 * ctypedef npy_uint32     uint32_t
 * ctypedef npy_uint64     uint64_t             # <<<<<<<<<<<<<<
 * #ctypedef npy_uint96     uint96_t
 * #ctypedef npy_uint128    uint128_t
 */
typedef npy_uint64 __pyx_t_5numpy_uint64_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":739
 * #ctypedef npy_uint128    uint128_t
 * 
 * ctypedef npy_float32    float32_t             # <<<<<<<<<<<<<<
 * ctypedef npy_float64    float64_t
 * #ctypedef npy_float80    float80_t
 */
typedef npy_float32 __pyx_t_5numpy_float32_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":740
 * 
 * ctypedef npy_float32    float32_t
 * ctypedef npy_float64    float64_t             # <<<<<<<<<<<<<<
 * #ctypedef npy_float80    float80_t
 * #ctypedef npy_float128   float128_t
 */
typedef npy_float64 __pyx_t_5numpy_float64_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":749
 * # The int types are mapped a bit surprising --
 * # numpy.int corresponds to 'l' and numpy.long to 'q'
 * ctypedef npy_long       int_t             # <<<<<<<<<<<<<<
 * ctypedef npy_longlong   long_t
 * ctypedef npy_longlong   longlong_t
 */
typedef npy_long __pyx_t_5numpy_int_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":750
 * # numpy.int corresponds to 'l' and numpy.long to 'q'
 * ctypedef npy_long       int_t
 * ctypedef npy_longlong   long_t             # <<<<<<<<<<<<<<
 * ctypedef npy_longlong   longlong_t
 * 
 */
typedef npy_longlong __pyx_t_5numpy_long_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":751
 * ctypedef npy_long       int_t
 * ctypedef npy_longlong   long_t
 * ctypedef npy_longlong   longlong_t             # <<<<<<<<<<<<<<
 * 
 * ctypedef npy_ulong      uint_t
 */
typedef npy_longlong __pyx_t_5numpy_longlong_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":753
 * ctypedef npy_longlong   longlong_t
 * 
 * ctypedef npy_ulong      uint_t             # <<<<<<<<<<<<<<
 * ctypedef npy_ulonglong  ulong_t
 * ctypedef npy_ulonglong  ulonglong_t
 */
typedef npy_ulong __pyx_t_5numpy_uint_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":754
 * 
 * ctypedef npy_ulong      uint_t
 * ctypedef npy_ulonglong  ulong_t             # <<<<<<<<<<<<<<
 * ctypedef npy_ulonglong  ulonglong_t
 * 
 */
typedef npy_ulonglong __pyx_t_5numpy_ulong_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":755
 * ctypedef npy_ulong      uint_t
 * ctypedef npy_ulonglong  ulong_t
 * ctypedef npy_ulonglong  ulonglong_t             # <<<<<<<<<<<<<<
 * 
 * ctypedef npy_intp       intp_t
 */
typedef npy_ulonglong __pyx_t_5numpy_ulonglong_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":757
 * ctypedef npy_ulonglong  ulonglong_t
 * 
 * ctypedef npy_intp       intp_t             # <<<<<<<<<<<<<<
 * ctypedef npy_uintp      uintp_t
 * 
 */
typedef npy_intp __pyx_t_5numpy_intp_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":758
 * 
 * ctypedef npy_intp       intp_t
 * ctypedef npy_uintp      uintp_t             # <<<<<<<<<<<<<<
 * 
 * ctypedef npy_double     float_t
 */
typedef npy_uintp __pyx_t_5numpy_uintp_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":760
 * ctypedef npy_uintp      uintp_t
 * 
 * ctypedef npy_double     float_t             # <<<<<<<<<<<<<<
 * ctypedef npy_double     double_t
 * ctypedef npy_longdouble longdouble_t
 */
typedef npy_double __pyx_t_5numpy_float_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":761
 * 
 * ctypedef npy_double     float_t
 * ctypedef npy_double     double_t             # <<<<<<<<<<<<<<
 * ctypedef npy_longdouble longdouble_t
 * 
 */
typedef npy_double __pyx_t_5numpy_double_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":762
 * ctypedef npy_double     float_t
 * ctypedef npy_double     double_t
 * ctypedef npy_longdouble longdouble_t             # <<<<<<<<<<<<<<
 * 
 * ctypedef npy_cfloat      cfloat_t
 */
typedef npy_longdouble __pyx_t_5numpy_longdouble_t;
#if CYTHON_CCOMPLEX
  #ifdef __cplusplus
    typedef ::std::complex< float > __pyx_t_float_complex;
  #else
    typedef float _Complex __pyx_t_float_complex;
  #endif
#else
    typedef struct { float real, imag; } __pyx_t_float_complex;
#endif

#if CYTHON_CCOMPLEX
  #ifdef __cplusplus
    typedef ::std::complex< double > __pyx_t_double_complex;
  #else
    typedef double _Complex __pyx_t_double_complex;
  #endif
#else
    typedef struct { double real, imag; } __pyx_t_double_complex;
#endif


/*--- Type declarations ---*/
struct __pyx_array_obj;
struct __pyx_MemviewEnum_obj;
struct __pyx_memoryview_obj;
struct __pyx_memoryviewslice_obj;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":764
 * ctypedef npy_longdouble longdouble_t
 * 
 * ctypedef npy_cfloat      cfloat_t             # <<<<<<<<<<<<<<
 * ctypedef npy_cdouble     cdouble_t
 * ctypedef npy_clongdouble clongdouble_t
 */
typedef npy_cfloat __pyx_t_5numpy_cfloat_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":765
 * 
 * ctypedef npy_cfloat      cfloat_t
 * ctypedef npy_cdouble     cdouble_t             # <<<<<<<<<<<<<<
 * ctypedef npy_clongdouble clongdouble_t
 * 
 */
typedef npy_cdouble __pyx_t_5numpy_cdouble_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":766
 * ctypedef npy_cfloat      cfloat_t
 * ctypedef npy_cdouble     cdouble_t
 * ctypedef npy_clongdouble clongdouble_t             # <<<<<<<<<<<<<<
 * 
 * ctypedef npy_cdouble     complex_t
 */
typedef npy_clongdouble __pyx_t_5numpy_clongdouble_t;

/* "../../envs/py3/lib/python3.4/site-packages/Cython/Includes/numpy/__init__.pxd":768
 * ctypedef npy_clongdouble clongdouble_t
 * 
 * ctypedef npy_cdouble     complex_t             # <<<<<<<<<<<<<<
 * 
 * cdef inline object PyArray_MultiIterNew1(a):
 */
typedef npy_cdouble __pyx_t_5numpy_complex_t;

/* "View.MemoryView":101
 * 
 * @cname("__pyx_array")
 * cdef class array:             # <<<<<<<<<<<<<<
 * 
 *     cdef:
 */
struct __pyx_array_obj {
  PyObject_HEAD
  char *data;
  Py_ssize_t len;
  char *format;
  int ndim;
  Py_ssize_t *_shape;
  Py_ssize_t *_strides;
  Py_ssize_t itemsize;
  PyObject *mode;
  PyObject *_format;
  void (*callback_free_data)(void *);
  int free_data;
  int dtype_is_object;
};


/* "View.MemoryView":271
 * 
 * @cname('__pyx_MemviewEnum')
 * cdef class Enum(object):             # <<<<<<<<<<<<<<
 *     cdef object name
 *     def __init__(self, name):
 */
struct __pyx_MemviewEnum_obj {
  PyObject_HEAD
  PyObject *name;
};


/* "View.MemoryView":304
 * 
 * @cname('__pyx_memoryview')
 * cdef class memoryview(object):             # <<<<<<<<<<<<<<
 * 
 *     cdef object obj
 */
struct __pyx_memoryview_obj {
  PyObject_HEAD
  struct __pyx_vtabstruct_memoryview *__pyx_vtab;
  PyObject *obj;
  PyObject *_size;
  PyObject *_array_interface;
  PyThread_type_lock lock;
  __pyx_atomic_int acquisition_count[2];
  __pyx_atomic_int *acquisition_count_aligned_p;
  Py_buffer view;
  int flags;
  int dtype_is_object;
  __Pyx_TypeInfo *typeinfo;
};


/* "View.MemoryView":923
 * 
 * @cname('__pyx_memoryviewslice')
 * cdef class _memoryviewslice(memoryview):             # <<<<<<<<<<<<<<
 *     "Internal class for passing memoryview slices to Python"
 * 
 */
struct __pyx_memoryviewslice_obj {
  struct __pyx_memoryview_obj __pyx_base;
  __Pyx_memviewslice from_slice;
  PyObject *from_object;
  PyObject *(*to_object_func)(char *);
  int (*to_dtype_func)(char *, PyObject *);
};



/* "View.MemoryView":304
 * 
 * @cname('__pyx_memoryview')
 * cdef class memoryview(object):             # <<<<<<<<<<<<<<
 * 
 *     cdef object obj
 */

struct __pyx_vtabstruct_memoryview {
  char *(*get_item_pointer)(struct __pyx_memoryview_obj *, PyObject *);
  PyObject *(*is_slice)(struct __pyx_memoryview_obj *, PyObject *);
  PyObject *(*setitem_slice_assignment)(struct __pyx_memoryview_obj *, PyObject *, PyObject *);
  PyObject *(*setitem_slice_assign_scalar)(struct __pyx_memoryview_obj *, struct __pyx_memoryview_obj *, PyObject *);
  PyObject *(*setitem_indexed)(struct __pyx_memoryview_obj *, PyObject *, PyObject *);
  PyObject *(*convert_item_to_object)(struct __pyx_memoryview_obj *, char *);
  PyObject *(*assign_item_from_object)(struct __pyx_memoryview_obj *, char *, PyObject *);
};
static struct __pyx_vtabstruct_memoryview *__pyx_vtabptr_memoryview;


/* "View.MemoryView":923
 * 
 * @cname('__pyx_memoryviewslice')
 * cdef class _memoryviewslice(memoryview):             # <<<<<<<<<<<<<<
 *     "Internal class for passing memoryview slices to Python"
 * 
 */

struct __pyx_vtabstruct__memoryviewslice {
  struct __pyx_vtabstruct_memoryview __pyx_base;
};
static struct __pyx_vtabstruct__memoryviewslice *__pyx_vtabptr__memoryviewslice;

/* --- Runtime support code (head) --- */
#ifndef CYTHON_REFNANNY
  #define CYTHON_REFNANNY 0
#endif
#if CYTHON_REFNANNY
  typedef struct {
    void (*INCREF)(void*, PyObject*, int);
    void (*DECREF)(void*, PyObject*, int);
    void (*GOTREF)(void*, PyObject*, int);
    void (*GIVEREF)(void*, PyObject*, int);
    void* (*SetupContext)(const char*, int, const char*);
    void (*FinishContext)(void**);
  } __Pyx_RefNannyAPIStruct;
  static __Pyx_RefNannyAPIStruct *__Pyx_RefNanny = NULL;
  static __Pyx_RefNannyAPIStruct *__Pyx_RefNannyImportAPI(const char *modname);
  #define __Pyx_RefNannyDeclarations void *__pyx_refnanny = NULL;
#ifdef WITH_THREAD
  #define __Pyx_RefNannySetupContext(name, acquire_gil)\
          if (acquire_gil) {\
              PyGILState_STATE __pyx_gilstate_save = PyGILState_Ensure();\
              __pyx_refnanny = __Pyx_RefNanny->SetupContext((name), __LINE__, __FILE__);\
              PyGILState_Release(__pyx_gilstate_save);\
          } else {\
              __pyx_refnanny = __Pyx_RefNanny->SetupContext((name), __LINE__, __FILE__);\
          }
#else
  #define __Pyx_RefNannySetupContext(name, acquire_gil)\
          __pyx_refnanny = __Pyx_RefNanny->SetupContext((name), __LINE__, __FILE__)
#endif
  #define __Pyx_RefNannyFinishContext()\
          __Pyx_RefNanny->FinishContext(&__pyx_refnanny)
  #define __Pyx_INCREF(r)  __Pyx_RefNanny->INCREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_DECREF(r)  __Pyx_RefNanny->DECREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_GOTREF(r)  __Pyx_RefNanny->GOTREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_GIVEREF(r) __Pyx_RefNanny->GIVEREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_XINCREF(r)  do { if((r) != NULL) {__Pyx_INCREF(r); }} while(0)
  #define __Pyx_XDECREF(r)  do { if((r) != NULL) {__Pyx_DECREF(r); }} while(0)
  #define __Pyx_XGOTREF(r)  do { if((r) != NULL) {__Pyx_GOTREF(r); }} while(0)
  #define __Pyx_XGIVEREF(r) do { if((r) != NULL) {__Pyx_GIVEREF(r);}} while(0)
#else
  #define __Pyx_RefNannyDeclarations
  #define __Pyx_RefNannySetupContext(name, acquire_gil)
  #define __Pyx_RefNannyFinishContext()
  #define __Pyx_INCREF(r) Py_INCREF(r)
  #define __Pyx_DECREF(r) Py_DECREF(r)
  #define __Pyx_GOTREF(r)
  #define __Pyx_GIVEREF(r)
  #define __Pyx_XINCREF(r) Py_XINCREF(r)
  #define __Pyx_XDECREF(r) Py_XDECREF(r)
  #define __Pyx_XGOTREF(r)
  #define __Pyx_XGIVEREF(r)
#endif
#define __Pyx_XDECREF_SET(r, v) do {\
        PyObject *tmp = (PyObject *) r;\
        r = v; __Pyx_XDECREF(tmp);\
    } while (0)
#define __Pyx_DECREF_SET(r, v) do {\
        PyObject *tmp = (PyObject *) r;\
        r = v; __Pyx_DECREF(tmp);\
    } while (0)
#define __Pyx_CLEAR(r)    do { PyObject* tmp = ((PyObject*)(r)); r = NULL; __Pyx_DECREF(tmp);} while(0)
#define __Pyx_XCLEAR(r)   do { if((r) != NULL) {PyObject* tmp = ((PyObject*)(r)); r = NULL; __Pyx_DECREF(tmp);}} while(0)

#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStr(PyObject* obj, PyObject* attr_name) {
    PyTypeObject* tp = Py_TYPE(obj);
    if (likely(tp->tp_getattro))
        return tp->tp_getattro(obj, attr_name);
#if PY_MAJOR_VERSION < 3
    if (likely(tp->tp_getattr))
        return tp->tp_getattr(obj, PyString_AS_STRING(attr_name));
#endif
    return PyObject_GetAttr(obj, attr_name);
}
#else
#define __Pyx_PyObject_GetAttrStr(o,n) PyObject_GetAttr(o,n)
#endif

static PyObject *__Pyx_GetBuiltinName(PyObject *name);

static void __Pyx_RaiseArgtupleInvalid(const char* func_name, int exact,
    Py_ssize_t num_min, Py_ssize_t num_max, Py_ssize_t num_found);

static void __Pyx_RaiseDoubleKeywordsError(const char* func_name, PyObject* kw_name);

static int __Pyx_ParseOptionalKeywords(PyObject *kwds, PyObject **argnames[],\
    PyObject *kwds2, PyObject *values[], Py_ssize_t num_pos_args,\
    const char* function_name);

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level);

static CYTHON_INLINE void __Pyx_ExceptionSave(PyObject **type, PyObject **value, PyObject **tb);
static void __Pyx_ExceptionReset(PyObject *type, PyObject *value, PyObject *tb);

static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb);

static CYTHON_INLINE int __Pyx_PyDict_ContainsTF(PyObject* item, PyObject* dict, int eq) {
    int result = PyDict_Contains(dict, item);
    return unlikely(result < 0) ? result : (result == (eq == Py_EQ));
}

#if PY_MAJOR_VERSION >= 3 && !CYTHON_COMPILING_IN_PYPY
static PyObject *__Pyx_PyDict_GetItem(PyObject *d, PyObject* key) {
    PyObject *value;
    value = PyDict_GetItemWithError(d, key);
    if (unlikely(!value)) {
        if (!PyErr_Occurred()) {
            PyObject* args = PyTuple_Pack(1, key);
            if (likely(args))
                PyErr_SetObject(PyExc_KeyError, args);
            Py_XDECREF(args);
        }
        return NULL;
    }
    Py_INCREF(value);
    return value;
}
#else
    #define __Pyx_PyDict_GetItem(d, key) PyObject_GetItem(d, key)
#endif

#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE PyObject* __Pyx_PyObject_Call(PyObject *func, PyObject *arg, PyObject *kw);
#else
#define __Pyx_PyObject_Call(func, arg, kw) PyObject_Call(func, arg, kw)
#endif

static CYTHON_INLINE void __Pyx_ErrRestore(PyObject *type, PyObject *value, PyObject *tb);
static CYTHON_INLINE void __Pyx_ErrFetch(PyObject **type, PyObject **value, PyObject **tb);

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause);

static CYTHON_INLINE Py_UCS4 __Pyx_PyUnicode_AsPy_UCS4(PyObject*);

#if PY_MAJOR_VERSION >= 3
#define __Pyx_PyObject_Ord(c)\
    (likely(PyUnicode_Check(c)) ? (long)__Pyx_PyUnicode_AsPy_UCS4(c) : __Pyx__PyObject_Ord(c))
#else
#define __Pyx_PyObject_Ord(c) __Pyx__PyObject_Ord(c)
#endif
static long __Pyx__PyObject_Ord(PyObject* c);

#define __Pyx_SetItemInt(o, i, v, type, is_signed, to_py_func, is_list, wraparound, boundscheck)\
    (__Pyx_fits_Py_ssize_t(i, type, is_signed) ?\
    __Pyx_SetItemInt_Fast(o, (Py_ssize_t)i, v, is_list, wraparound, boundscheck) :\
    (is_list ? (PyErr_SetString(PyExc_IndexError, "list assignment index out of range"), -1) :\
               __Pyx_SetItemInt_Generic(o, to_py_func(i), v)))
static CYTHON_INLINE int __Pyx_SetItemInt_Generic(PyObject *o, PyObject *j, PyObject *v);
static CYTHON_INLINE int __Pyx_SetItemInt_Fast(PyObject *o, Py_ssize_t i, PyObject *v,
                                               int is_list, int wraparound, int boundscheck);

static CYTHON_INLINE int __Pyx_IterFinish(void);

#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE PyObject* __Pyx_PyObject_CallMethO(PyObject *func, PyObject *arg);
#endif

#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE PyObject* __Pyx_PyObject_CallNoArg(PyObject *func);
#else
#define __Pyx_PyObject_CallNoArg(func) __Pyx_PyObject_Call(func, __pyx_empty_tuple, NULL)
#endif

static CYTHON_INLINE PyObject* __Pyx_PyObject_CallOneArg(PyObject *func, PyObject *arg);

static PyObject* __Pyx_PyObject_CallMethod0(PyObject* obj, PyObject* method_name);

static CYTHON_INLINE void __Pyx_RaiseNeedMoreValuesError(Py_ssize_t index);

static CYTHON_INLINE void __Pyx_RaiseTooManyValuesError(Py_ssize_t expected);

static int __Pyx_IternextUnpackEndCheck(PyObject *retval, Py_ssize_t expected);

static CYTHON_INLINE void __Pyx_RaiseNoneNotIterableError(void);

static void __Pyx_UnpackTupleError(PyObject *, Py_ssize_t index);

static CYTHON_INLINE int __Pyx_unpack_tuple2(PyObject* tuple, PyObject** value1, PyObject** value2,
                                             int is_tuple, int has_known_size, int decref_tuple);

static CYTHON_INLINE PyObject* __Pyx_dict_iterator(PyObject* dict, int is_dict, PyObject* method_name,
                                                   Py_ssize_t* p_orig_length, int* p_is_dict);
static CYTHON_INLINE int __Pyx_dict_iter_next(PyObject* dict_or_iter, Py_ssize_t orig_length, Py_ssize_t* ppos,
                                              PyObject** pkey, PyObject** pvalue, PyObject** pitem, int is_dict);

#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE int __Pyx_PyList_Append(PyObject* list, PyObject* x) {
    PyListObject* L = (PyListObject*) list;
    Py_ssize_t len = Py_SIZE(list);
    if (likely(L->allocated > len) & likely(len > (L->allocated >> 1))) {
        Py_INCREF(x);
        PyList_SET_ITEM(list, len, x);
        Py_SIZE(list) = len+1;
        return 0;
    }
    return PyList_Append(list, x);
}
#else
#define __Pyx_PyList_Append(L,x) PyList_Append(L,x)
#endif

static CYTHON_INLINE int  __Pyx_GetBufferAndValidate(Py_buffer* buf, PyObject* obj,
    __Pyx_TypeInfo* dtype, int flags, int nd, int cast, __Pyx_BufFmt_StackElem* stack);
static CYTHON_INLINE void __Pyx_SafeReleaseBuffer(Py_buffer* info);

#define __Pyx_BUF_MAX_NDIMS %(BUF_MAX_NDIMS)d
#define __Pyx_MEMVIEW_DIRECT   1
#define __Pyx_MEMVIEW_PTR      2
#define __Pyx_MEMVIEW_FULL     4
#define __Pyx_MEMVIEW_CONTIG   8
#define __Pyx_MEMVIEW_STRIDED  16
#define __Pyx_MEMVIEW_FOLLOW   32
#define __Pyx_IS_C_CONTIG 1
#define __Pyx_IS_F_CONTIG 2
static int __Pyx_init_memviewslice(
                struct __pyx_memoryview_obj *memview,
                int ndim,
                __Pyx_memviewslice *memviewslice,
                int memview_is_new_reference);
static CYTHON_INLINE int __pyx_add_acquisition_count_locked(
    __pyx_atomic_int *acquisition_count, PyThread_type_lock lock);
static CYTHON_INLINE int __pyx_sub_acquisition_count_locked(
    __pyx_atomic_int *acquisition_count, PyThread_type_lock lock);
#define __pyx_get_slice_count_pointer(memview) (memview->acquisition_count_aligned_p)
#define __pyx_get_slice_count(memview) (*__pyx_get_slice_count_pointer(memview))
#define __PYX_INC_MEMVIEW(slice, have_gil) __Pyx_INC_MEMVIEW(slice, have_gil, __LINE__)
#define __PYX_XDEC_MEMVIEW(slice, have_gil) __Pyx_XDEC_MEMVIEW(slice, have_gil, __LINE__)
static CYTHON_INLINE void __Pyx_INC_MEMVIEW(__Pyx_memviewslice *, int, int);
static CYTHON_INLINE void __Pyx_XDEC_MEMVIEW(__Pyx_memviewslice *, int, int);

static CYTHON_INLINE int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type);

static CYTHON_INLINE int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed,
    const char *name, int exact);

#include <string.h>

static CYTHON_INLINE int __Pyx_PyBytes_Equals(PyObject* s1, PyObject* s2, int equals);

static CYTHON_INLINE int __Pyx_PyUnicode_Equals(PyObject* s1, PyObject* s2, int equals);

#if PY_MAJOR_VERSION >= 3
#define __Pyx_PyString_Equals __Pyx_PyUnicode_Equals
#else
#define __Pyx_PyString_Equals __Pyx_PyBytes_Equals
#endif

#define UNARY_NEG_WOULD_OVERFLOW(x)\
        (((x) < 0) & ((unsigned long)(x) == 0-(unsigned long)(x)))

static CYTHON_UNUSED int __pyx_array_getbuffer(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /*proto*/
static PyObject *get_memview(PyObject *__pyx_v_self); /*proto*/
static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *, PyObject *);

static CYTHON_INLINE PyObject* __Pyx_decode_c_string(
         const char* cstring, Py_ssize_t start, Py_ssize_t stop,
         const char* encoding, const char* errors,
         PyObject* (*decode_func)(const char *s, Py_ssize_t size, const char *errors));

static CYTHON_INLINE void __Pyx_ExceptionSwap(PyObject **type, PyObject **value, PyObject **tb);

#define __Pyx_GetItemInt(o, i, type, is_signed, to_py_func, is_list, wraparound, boundscheck)\
    (__Pyx_fits_Py_ssize_t(i, type, is_signed) ?\
    __Pyx_GetItemInt_Fast(o, (Py_ssize_t)i, is_list, wraparound, boundscheck) :\
    (is_list ? (PyErr_SetString(PyExc_IndexError, "list index out of range"), (PyObject*)NULL) :\
               __Pyx_GetItemInt_Generic(o, to_py_func(i))))
#define __Pyx_GetItemInt_List(o, i, type, is_signed, to_py_func, is_list, wraparound, boundscheck)\
    (__Pyx_fits_Py_ssize_t(i, type, is_signed) ?\
    __Pyx_GetItemInt_List_Fast(o, (Py_ssize_t)i, wraparound, boundscheck) :\
    (PyErr_SetString(PyExc_IndexError, "list index out of range"), (PyObject*)NULL))
static CYTHON_INLINE PyObject *__Pyx_GetItemInt_List_Fast(PyObject *o, Py_ssize_t i,
                                                              int wraparound, int boundscheck);
#define __Pyx_GetItemInt_Tuple(o, i, type, is_signed, to_py_func, is_list, wraparound, boundscheck)\
    (__Pyx_fits_Py_ssize_t(i, type, is_signed) ?\
    __Pyx_GetItemInt_Tuple_Fast(o, (Py_ssize_t)i, wraparound, boundscheck) :\
    (PyErr_SetString(PyExc_IndexError, "tuple index out of range"), (PyObject*)NULL))
static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Tuple_Fast(PyObject *o, Py_ssize_t i,
                                                              int wraparound, int boundscheck);
static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Generic(PyObject *o, PyObject* j);
static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Fast(PyObject *o, Py_ssize_t i,
                                                     int is_list, int wraparound, int boundscheck);

static CYTHON_UNUSED int __pyx_memoryview_getbuffer(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /*proto*/
static PyObject *__pyx_memoryview_transpose(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_memoryview__get__base(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_memoryview_get_shape(PyObject *__pyx_v_self); /*proto*/
#if CYTHON_COMPILING_IN_CPYTHON
static CYTHON_INLINE int __Pyx_ListComp_Append(PyObject* list, PyObject* x) {
    PyListObject* L = (PyListObject*) list;
    Py_ssize_t len = Py_SIZE(list);
    if (likely(L->allocated > len)) {
        Py_INCREF(x);
        PyList_SET_ITEM(list, len, x);
        Py_SIZE(list) = len+1;
        return 0;
    }
    return PyList_Append(list, x);
}
#else
#define __Pyx_ListComp_Append(L,x) PyList_Append(L,x)
#endif

static PyObject *__pyx_memoryview_get_strides(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_memoryview_get_suboffsets(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_memoryview_get_ndim(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_memoryview_get_itemsize(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_memoryview_get_nbytes(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_memoryview_get_size(PyObject *__pyx_v_self); /*proto*/
#if CYTHON_COMPILING_IN_CPYTHON
static PyObject* __Pyx_PyInt_AddObjC(PyObject *op1, PyObject *op2, long intval, int inplace);
#else
#define __Pyx_PyInt_AddObjC(op1, op2, intval, inplace)\
    (inplace ? PyNumber_InPlaceAdd(op1, op2) : PyNumber_Add(op1, op2))
#endif

static CYTHON_INLINE int __Pyx_PyList_Extend(PyObject* L, PyObject* v) {
#if CYTHON_COMPILING_IN_CPYTHON
    PyObject* none = _PyList_Extend((PyListObject*)L, v);
    if (unlikely(!none))
        return -1;
    Py_DECREF(none);
    return 0;
#else
    return PyList_SetSlice(L, PY_SSIZE_T_MAX, PY_SSIZE_T_MAX, v);
#endif
}

static CYTHON_INLINE void __Pyx_RaiseUnboundLocalError(const char *varname);

#ifndef __PYX_FORCE_INIT_THREADS
  #define __PYX_FORCE_INIT_THREADS 0
#endif

static PyObject *__pyx_memoryviewslice__get__base(PyObject *__pyx_v_self); /*proto*/
static void __Pyx_WriteUnraisable(const char *name, int clineno,
                                  int lineno, const char *filename,
                                  int full_traceback, int nogil);

static int __Pyx_SetVtable(PyObject *dict, void *vtable);

static PyTypeObject* __Pyx_FetchCommonType(PyTypeObject* type);

#define __Pyx_CyFunction_USED 1
#include <structmember.h>
#define __Pyx_CYFUNCTION_STATICMETHOD  0x01
#define __Pyx_CYFUNCTION_CLASSMETHOD   0x02
#define __Pyx_CYFUNCTION_CCLASS        0x04
#define __Pyx_CyFunction_GetClosure(f)\
    (((__pyx_CyFunctionObject *) (f))->func_closure)
#define __Pyx_CyFunction_GetClassObj(f)\
    (((__pyx_CyFunctionObject *) (f))->func_classobj)
#define __Pyx_CyFunction_Defaults(type, f)\
    ((type *)(((__pyx_CyFunctionObject *) (f))->defaults))
#define __Pyx_CyFunction_SetDefaultsGetter(f, g)\
    ((__pyx_CyFunctionObject *) (f))->defaults_getter = (g)
typedef struct {
    PyCFunctionObject func;
#if PY_VERSION_HEX < 0x030500A0
    PyObject *func_weakreflist;
#endif
    PyObject *func_dict;
    PyObject *func_name;
    PyObject *func_qualname;
    PyObject *func_doc;
    PyObject *func_globals;
    PyObject *func_code;
    PyObject *func_closure;
    PyObject *func_classobj;
    void *defaults;
    int defaults_pyobjects;
    int flags;
    PyObject *defaults_tuple;
    PyObject *defaults_kwdict;
    PyObject *(*defaults_getter)(PyObject *);
    PyObject *func_annotations;
} __pyx_CyFunctionObject;
static PyTypeObject *__pyx_CyFunctionType = 0;
#define __Pyx_CyFunction_NewEx(ml, flags, qualname, self, module, globals, code)\
    __Pyx_CyFunction_New(__pyx_CyFunctionType, ml, flags, qualname, self, module, globals, code)
static PyObject *__Pyx_CyFunction_New(PyTypeObject *, PyMethodDef *ml,
                                      int flags, PyObject* qualname,
                                      PyObject *self,
                                      PyObject *module, PyObject *globals,
                                      PyObject* code);
static CYTHON_INLINE void *__Pyx_CyFunction_InitDefaults(PyObject *m,
                                                         size_t size,
                                                         int pyobjects);
static CYTHON_INLINE void __Pyx_CyFunction_SetDefaultsTuple(PyObject *m,
                                                            PyObject *tuple);
static CYTHON_INLINE void __Pyx_CyFunction_SetDefaultsKwDict(PyObject *m,
                                                             PyObject *dict);
static CYTHON_INLINE void __Pyx_CyFunction_SetAnnotationsDict(PyObject *m,
                                                              PyObject *dict);
static int __pyx_CyFunction_init(void);

typedef struct {
    __pyx_CyFunctionObject func;
    PyObject *__signatures__;
    PyObject *type;
    PyObject *self;
} __pyx_FusedFunctionObject;
#define __pyx_FusedFunction_NewEx(ml, flags, qualname, self, module, globals, code)\
        __pyx_FusedFunction_New(__pyx_FusedFunctionType, ml, flags, qualname, self, module, globals, code)
static PyObject *__pyx_FusedFunction_New(PyTypeObject *type,
                                         PyMethodDef *ml, int flags,
                                         PyObject *qualname, PyObject *self,
                                         PyObject *module, PyObject *globals,
                                         PyObject *code);
static int __pyx_FusedFunction_clear(__pyx_FusedFunctionObject *self);
static PyTypeObject *__pyx_FusedFunctionType = NULL;
static int __pyx_FusedFunction_init(void);
#define __Pyx_FusedFunction_USED

typedef struct {
    int code_line;
    PyCodeObject* code_object;
} __Pyx_CodeObjectCacheEntry;
struct __Pyx_CodeObjectCache {
    int count;
    int max_count;
    __Pyx_CodeObjectCacheEntry* entries;
};
static struct __Pyx_CodeObjectCache __pyx_code_cache = {0,0,NULL};
static int __pyx_bisect_code_objects(__Pyx_CodeObjectCacheEntry* entries, int count, int code_line);
static PyCodeObject *__pyx_find_code_object(int code_line);
static void __pyx_insert_code_object(int code_line, PyCodeObject* code_object);

static void __Pyx_AddTraceback(const char *funcname, int c_line,
                               int py_line, const char *filename);

static int __pyx_typeinfo_cmp(__Pyx_TypeInfo *a, __Pyx_TypeInfo *b);

static int __Pyx_ValidateAndInit_memviewslice(
                int *axes_specs,
                int c_or_f_flag,
                int buf_flags,
                int ndim,
                __Pyx_TypeInfo *dtype,
                __Pyx_BufFmt_StackElem stack[],
                __Pyx_memviewslice *memviewslice,
                PyObject *original_obj);

static CYTHON_INLINE __Pyx_memviewslice __Pyx_PyObject_to_MemoryviewSlice_d_dc_nn___pyx_t_5numpy_uint8_t(PyObject *);

static CYTHON_INLINE __Pyx_memviewslice __Pyx_PyObject_to_MemoryviewSlice_d_dc_nn___pyx_t_5numpy_uint16_t(PyObject *);

static CYTHON_INLINE __Pyx_memviewslice __Pyx_PyObject_to_MemoryviewSlice_d_d_dc_nn___pyx_t_5numpy_uint8_t(PyObject *);

static CYTHON_INLINE __Pyx_memviewslice __Pyx_PyObject_to_MemoryviewSlice_d_d_dc_nn___pyx_t_5numpy_uint16_t(PyObject *);

static CYTHON_INLINE __Pyx_memviewslice __Pyx_PyObject_to_MemoryviewSlice_d_d_dc_nn___pyx_t_5numpy_double_t(PyObject *);

typedef struct {
  Py_ssize_t shape, strides, suboffsets;
} __Pyx_Buf_DimInfo;
typedef struct {
  size_t refcount;
  Py_buffer pybuffer;
} __Pyx_Buffer;
typedef struct {
  __Pyx_Buffer *rcbuffer;
  char *data;
  __Pyx_Buf_DimInfo diminfo[8];
} __Pyx_LocalBuf_ND;

#if PY_MAJOR_VERSION < 3
    static int __Pyx_GetBuffer(PyObject *obj, Py_buffer *view, int flags);
    static void __Pyx_ReleaseBuffer(Py_buffer *view);
#else
    #define __Pyx_GetBuffer PyObject_GetBuffer
    #define __Pyx_ReleaseBuffer PyBuffer_Release
#endif


static Py_ssize_t __Pyx_zeros[] = {0, 0, 0, 0, 0, 0, 0, 0};
static Py_ssize_t __Pyx_minusones[] = {-1, -1, -1, -1, -1, -1, -1, -1};

static CYTHON_INLINE __Pyx_memviewslice __Pyx_PyObject_to_MemoryviewSlice_d_dc_char(PyObject *);

static CYTHON_INLINE signed char __Pyx_PyInt_As_signed__char(PyObject *);

static CYTHON_INLINE PyObject* __Pyx_PyInt_From_npy_uint8(npy_uint8 value);

static CYTHON_INLINE PyObject* __Pyx_PyInt_From_npy_uint16(npy_uint16 value);

static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value);

static CYTHON_INLINE int __Pyx_BytesContains(PyObject* bytes, char character);

static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *);

#if CYTHON_CCOMPLEX
  #ifdef __cplusplus
    #define __Pyx_CREAL(z) ((z).real())
    #define __Pyx_CIMAG(z) ((z).imag())
  #else
    #define __Pyx_CREAL(z) (__real__(z))
    #define __Pyx_CIMAG(z) (__imag__(z))
  #endif
#else
    #define __Pyx_CREAL(z) ((z).real)
    #define __Pyx_CIMAG(z) ((z).imag)
#endif
#if (defined(_WIN32) || defined(__clang__)) && defined(__cplusplus) && CYTHON_CCOMPLEX
    #define __Pyx_SET_CREAL(z,x) ((z).real(x))
    #define __Pyx_SET_CIMAG(z,y) ((z).imag(y))
#else
    #define __Pyx_SET_CREAL(z,x) __Pyx_CREAL(z) = (x)
    #define __Pyx_SET_CIMAG(z,y) __Pyx_CIMAG(z) = (y)
#endif

static CYTHON_INLINE __pyx_t_float_complex __pyx_t_float_complex_from_parts(float, float);

#if CYTHON_CCOMPLEX
    #define __Pyx_c_eqf(a, b)   ((a)==(b))
    #define __Pyx_c_sumf(a, b)  ((a)+(b))
    #define __Pyx_c_difff(a, b) ((a)-(b))
    #define __Pyx_c_prodf(a, b) ((a)*(b))
    #define __Pyx_c_quotf(a, b) ((a)/(b))
    #define __Pyx_c_negf(a)     (-(a))
  #ifdef __cplusplus
    #define __Pyx_c_is_zerof(z) ((z)==(float)0)
    #define __Pyx_c_conjf(z)    (::std::conj(z))
    #if 1
        #define __Pyx_c_absf(z)     (::std::abs(z))
        #define __Pyx_c_powf(a, b)  (::std::pow(a, b))
    #endif
  #else
    #define __Pyx_c_is_zerof(z) ((z)==0)
    #define __Pyx_c_conjf(z)    (conjf(z))
    #if 1
        #define __Pyx_c_absf(z)     (cabsf(z))
        #define __Pyx_c_powf(a, b)  (cpowf(a, b))
    #endif
 #endif
#else
    static CYTHON_INLINE int __Pyx_c_eqf(__pyx_t_float_complex, __pyx_t_float_complex);
    static CYTHON_INLINE __pyx_t_float_complex __Pyx_c_sumf(__pyx_t_float_complex, __pyx_t_float_complex);
    static CYTHON_INLINE __pyx_t_float_complex __Pyx_c_difff(__pyx_t_float_complex, __pyx_t_float_complex);
    static CYTHON_INLINE __pyx_t_float_complex __Pyx_c_prodf(__pyx_t_float_complex, __pyx_t_float_complex);
    static CYTHON_INLINE __pyx_t_float_complex __Pyx_c_quotf(__pyx_t_float_complex, __pyx_t_float_complex);
    static CYTHON_INLINE __pyx_t_float_complex __Pyx_c_negf(__pyx_t_float_complex);
    static CYTHON_INLINE int __Pyx_c_is_zerof(__pyx_t_float_complex);
    static CYTHON_INLINE __pyx_t_float_complex __Pyx_c_conjf(__pyx_t_float_complex);
    #if 1
        static CYTHON_INLINE float __Pyx_c_absf(__pyx_t_float_complex);
        static CYTHON_INLINE __pyx_t_float_complex __Pyx_c_powf(__pyx_t_float_complex, __pyx_t_float_complex);
    #endif
#endif

static CYTHON_INLINE __pyx_t_double_complex __pyx_t_double_complex_from_parts(double, double);

#if CYTHON_CCOMPLEX
    #define __Pyx_c_eq(a, b)   ((a)==(b))
    #define __Pyx_c_sum(a, b)  ((a)+(b))
    #define __Pyx_c_diff(a, b) ((a)-(b))
    #define __Pyx_c_prod(a, b) ((a)*(b))
    #define __Pyx_c_quot(a, b) ((a)/(b))
    #define __Pyx_c_neg(a)     (-(a))
  #ifdef __cplusplus
    #define __Pyx_c_is_zero(z) ((z)==(double)0)
    #define __Pyx_c_conj(z)    (::std::conj(z))
    #if 1
        #define __Pyx_c_abs(z)     (::std::abs(z))
        #define __Pyx_c_pow(a, b)  (::std::pow(a, b))
    #endif
  #else
    #define __Pyx_c_is_zero(z) ((z)==0)
    #define __Pyx_c_conj(z)    (conj(z))
    #if 1
        #define __Pyx_c_abs(z)     (cabs(z))
        #define __Pyx_c_pow(a, b)  (cpow(a, b))
    #endif
 #endif
#else
    static CYTHON_INLINE int __Pyx_c_eq(__pyx_t_double_complex, __pyx_t_double_complex);
    static CYTHON_INLINE __pyx_t_double_complex __Pyx_c_sum(__pyx_t_double_complex, __pyx_t_double_complex);
    static CYTHON_INLINE __pyx_t_double_complex __Pyx_c_diff(__pyx_t_double_complex, __pyx_t_double_complex);
    static CYTHON_INLINE __pyx_t_double_complex __Pyx_c_prod(__pyx_t_double_complex, __pyx_t_double_complex);
    static CYTHON_INLINE __pyx_t_double_complex __Pyx_c_quot(__pyx_t_double_complex, __pyx_t_double_complex);
    static CYTHON_INLINE __pyx_t_double_complex __Pyx_c_neg(__pyx_t_double_complex);
    static CYTHON_INLINE int __Pyx_c_is_zero(__pyx_t_double_complex);
    static CYTHON_INLINE __pyx_t_double_complex __Pyx_c_conj(__pyx_t_double_complex);
    #if 1
        static CYTHON_INLINE double __Pyx_c_abs(__pyx_t_double_complex);
        static CYTHON_INLINE __pyx_t_double_complex __Pyx_c_pow(__pyx_t_double_complex, __pyx_t_double_complex);
    #endif
#endif

static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int(int value);

static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *);

static CYTHON_INLINE PyObject* __Pyx_PyInt_From_enum__NPY_TYPES(enum NPY_TYPES value);

static int __pyx_memviewslice_is_contig(const __Pyx_memviewslice *mvs,
                                        char order, int ndim);

static int __pyx_slices_overlap(__Pyx_memviewslice *slice1,
                                __Pyx_memviewslice *slice2,
                                int ndim, size_t itemsize);

static __Pyx_memviewslice
__pyx_memoryview_copy_new_contig(const __Pyx_memviewslice *from_mvs,
                                 const char *mode, int ndim,
                                 size_t sizeof_dtype, int contig_flag,
                                 int dtype_is_object);

static CYTHON_INLINE PyObject *__pyx_capsule_create(void *p, const char *sig);

static CYTHON_INLINE char __Pyx_PyInt_As_char(PyObject *);

static int __Pyx_check_binary_version(void);

#if !defined(__Pyx_PyIdentifier_FromString)
#if PY_MAJOR_VERSION < 3
  #define __Pyx_PyIdentifier_FromString(s) PyString_FromString(s)
#else
  #define __Pyx_PyIdentifier_FromString(s) PyUnicode_FromString(s)
#endif
#endif

static PyObject *__Pyx_ImportModule(const char *name);

static PyTypeObject *__Pyx_ImportType(const char *module_name, const char *class_name, size_t size, int strict);

static int __Pyx_ImportFunction(PyObject *module, const char *funcname, void (**f)(void), const char *sig);

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);

static char *__pyx_memoryview_get_item_pointer(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index); /* proto*/
static PyObject *__pyx_memoryview_is_slice(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_obj); /* proto*/
static PyObject *__pyx_memoryview_setitem_slice_assignment(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_dst, PyObject *__pyx_v_src); /* proto*/
static PyObject *__pyx_memoryview_setitem_slice_assign_scalar(struct __pyx_memoryview_obj *__pyx_v_self, struct __pyx_memoryview_obj *__pyx_v_dst, PyObject *__pyx_v_value); /* proto*/
static PyObject *__pyx_memoryview_setitem_indexed(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index, PyObject *__pyx_v_value); /* proto*/
static PyObject *__pyx_memoryview_convert_item_to_object(struct __pyx_memoryview_obj *__pyx_v_self, char *__pyx_v_itemp); /* proto*/
static PyObject *__pyx_memoryview_assign_item_from_object(struct __pyx_memoryview_obj *__pyx_v_self, char *__pyx_v_itemp, PyObject *__pyx_v_value); /* proto*/
static PyObject *__pyx_memoryviewslice_convert_item_to_object(struct __pyx_memoryviewslice_obj *__pyx_v_self, char *__pyx_v_itemp); /* proto*/
static PyObject *__pyx_memoryviewslice_assign_item_from_object(struct __pyx_memoryviewslice_obj *__pyx_v_self, char *__pyx_v_itemp, PyObject *__pyx_v_value); /* proto*/

/* Module declarations from 'cpython.buffer' */

/* Module declarations from 'libc.string' */

/* Module declarations from 'libc.stdio' */

/* Module declarations from '__builtin__' */

/* Module declarations from 'cpython.type' */
static PyTypeObject *__pyx_ptype_7cpython_4type_type = 0;

/* Module declarations from 'cpython' */

/* Module declarations from 'cpython.object' */

/* Module declarations from 'cpython.ref' */

/* Module declarations from 'libc.stdlib' */

/* Module declarations from 'numpy' */

/* Module declarations from 'numpy' */
static PyTypeObject *__pyx_ptype_5numpy_dtype = 0;
static PyTypeObject *__pyx_ptype_5numpy_flatiter = 0;
static PyTypeObject *__pyx_ptype_5numpy_broadcast = 0;
static PyTypeObject *__pyx_ptype_5numpy_ndarray = 0;
static PyTypeObject *__pyx_ptype_5numpy_ufunc = 0;
static CYTHON_INLINE char *__pyx_f_5numpy__util_dtypestring(PyArray_Descr *, char *, char *, int *); /*proto*/

/* Module declarations from 'libc.math' */

/* Module declarations from 'skimage.filters.rank.core_cy' */
static void (*__pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_7core_cy__core)(void (__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t), __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, signed char, signed char, double, double, Py_ssize_t, Py_ssize_t, Py_ssize_t); /*proto*/
static void (*__pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_7core_cy__core)(void (__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t), __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, signed char, signed char, double, double, Py_ssize_t, Py_ssize_t, Py_ssize_t); /*proto*/
static void (*__pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_7core_cy__core)(void (__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t), __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, signed char, signed char, double, double, Py_ssize_t, Py_ssize_t, Py_ssize_t); /*proto*/
static void (*__pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_7core_cy__core)(void (__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t), __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, signed char, signed char, double, double, Py_ssize_t, Py_ssize_t, Py_ssize_t); /*proto*/
static void (*__pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_7core_cy__core)(void (__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t), __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, signed char, signed char, double, double, Py_ssize_t, Py_ssize_t, Py_ssize_t); /*proto*/
static void (*__pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_7core_cy__core)(void (__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t), __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, __Pyx_memviewslice, signed char, signed char, double, double, Py_ssize_t, Py_ssize_t, Py_ssize_t); /*proto*/

/* Module declarations from 'skimage._shared.interpolation' */
static CYTHON_INLINE Py_ssize_t __pyx_f_7skimage_7_shared_13interpolation_round(double); /*proto*/
static CYTHON_INLINE double __pyx_f_7skimage_7_shared_13interpolation_quadratic_interpolation(double, double *); /*proto*/
static CYTHON_INLINE double __pyx_f_7skimage_7_shared_13interpolation_cubic_interpolation(double, double *); /*proto*/
static CYTHON_INLINE double __pyx_f_7skimage_7_shared_13interpolation_get_pixel2d(double *, Py_ssize_t, Py_ssize_t, long, long, char, double); /*proto*/
static CYTHON_INLINE Py_ssize_t __pyx_f_7skimage_7_shared_13interpolation_coord_map(Py_ssize_t, long, char); /*proto*/

/* Module declarations from 'skimage.filters.rank.generic_cy' */
static PyTypeObject *__pyx_array_type = 0;
static PyTypeObject *__pyx_MemviewEnum_type = 0;
static PyTypeObject *__pyx_memoryview_type = 0;
static PyTypeObject *__pyx_memoryviewslice_type = 0;
static PyObject *generic = 0;
static PyObject *strided = 0;
static PyObject *indirect = 0;
static PyObject *contiguous = 0;
static PyObject *indirect_contiguous = 0;
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_subtract_mean(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_subtract_mean(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_subtract_mean(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_subtract_mean(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_subtract_mean(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_subtract_mean(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_median(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_median(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_median(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_median(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_median(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_median(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_minimum(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_minimum(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_minimum(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_minimum(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_minimum(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_minimum(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_modal(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_modal(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_modal(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_modal(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_modal(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_modal(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_enhance_contrast(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_enhance_contrast(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_enhance_contrast(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_enhance_contrast(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_enhance_contrast(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_enhance_contrast(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_pop(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_pop(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_pop(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_pop(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_pop(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_pop(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_sum(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_sum(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_sum(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_sum(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_sum(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_sum(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_threshold(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_threshold(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_threshold(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_threshold(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_threshold(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_threshold(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_tophat(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_tophat(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_tophat(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_tophat(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_tophat(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_tophat(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_noise_filter(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_noise_filter(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_noise_filter(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_noise_filter(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_noise_filter(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_noise_filter(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_entropy(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_entropy(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_entropy(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_entropy(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_entropy(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_entropy(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_otsu(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_otsu(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_otsu(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_otsu(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_otsu(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_otsu(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_win_hist(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_win_hist(__pyx_t_5numpy_uint8_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_win_hist(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_win_hist(__pyx_t_5numpy_uint16_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_win_hist(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint8_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_win_hist(__pyx_t_5numpy_double_t *, Py_ssize_t, Py_ssize_t *, double, __pyx_t_5numpy_uint16_t, Py_ssize_t, Py_ssize_t, double, double, Py_ssize_t, Py_ssize_t); /*proto*/
static struct __pyx_array_obj *__pyx_array_new(PyObject *, Py_ssize_t, char *, char *, char *); /*proto*/
static void *__pyx_align_pointer(void *, size_t); /*proto*/
static PyObject *__pyx_memoryview_new(PyObject *, int, int, __Pyx_TypeInfo *); /*proto*/
static CYTHON_INLINE int __pyx_memoryview_check(PyObject *); /*proto*/
static PyObject *_unellipsify(PyObject *, int); /*proto*/
static PyObject *assert_direct_dimensions(Py_ssize_t *, int); /*proto*/
static struct __pyx_memoryview_obj *__pyx_memview_slice(struct __pyx_memoryview_obj *, PyObject *); /*proto*/
static int __pyx_memoryview_slice_memviewslice(__Pyx_memviewslice *, Py_ssize_t, Py_ssize_t, Py_ssize_t, int, int, int *, Py_ssize_t, Py_ssize_t, Py_ssize_t, int, int, int, int); /*proto*/
static char *__pyx_pybuffer_index(Py_buffer *, char *, Py_ssize_t, Py_ssize_t); /*proto*/
static int __pyx_memslice_transpose(__Pyx_memviewslice *); /*proto*/
static PyObject *__pyx_memoryview_fromslice(__Pyx_memviewslice, int, PyObject *(*)(char *), int (*)(char *, PyObject *), int); /*proto*/
static __Pyx_memviewslice *__pyx_memoryview_get_slice_from_memoryview(struct __pyx_memoryview_obj *, __Pyx_memviewslice *); /*proto*/
static void __pyx_memoryview_slice_copy(struct __pyx_memoryview_obj *, __Pyx_memviewslice *); /*proto*/
static PyObject *__pyx_memoryview_copy_object(struct __pyx_memoryview_obj *); /*proto*/
static PyObject *__pyx_memoryview_copy_object_from_slice(struct __pyx_memoryview_obj *, __Pyx_memviewslice *); /*proto*/
static Py_ssize_t abs_py_ssize_t(Py_ssize_t); /*proto*/
static char __pyx_get_best_slice_order(__Pyx_memviewslice *, int); /*proto*/
static void _copy_strided_to_strided(char *, Py_ssize_t *, char *, Py_ssize_t *, Py_ssize_t *, Py_ssize_t *, int, size_t); /*proto*/
static void copy_strided_to_strided(__Pyx_memviewslice *, __Pyx_memviewslice *, int, size_t); /*proto*/
static Py_ssize_t __pyx_memoryview_slice_get_size(__Pyx_memviewslice *, int); /*proto*/
static Py_ssize_t __pyx_fill_contig_strides_array(Py_ssize_t *, Py_ssize_t *, Py_ssize_t, int, char); /*proto*/
static void *__pyx_memoryview_copy_data_to_temp(__Pyx_memviewslice *, __Pyx_memviewslice *, char, int); /*proto*/
static int __pyx_memoryview_err_extents(int, Py_ssize_t, Py_ssize_t); /*proto*/
static int __pyx_memoryview_err_dim(PyObject *, char *, int); /*proto*/
static int __pyx_memoryview_err(PyObject *, char *); /*proto*/
static int __pyx_memoryview_copy_contents(__Pyx_memviewslice, __Pyx_memviewslice, int, int, int); /*proto*/
static void __pyx_memoryview_broadcast_leading(__Pyx_memviewslice *, int, int); /*proto*/
static void __pyx_memoryview_refcount_copying(__Pyx_memviewslice *, int, int, int); /*proto*/
static void __pyx_memoryview_refcount_objects_in_slice_with_gil(char *, Py_ssize_t *, Py_ssize_t *, int, int); /*proto*/
static void __pyx_memoryview_refcount_objects_in_slice(char *, Py_ssize_t *, Py_ssize_t *, int, int); /*proto*/
static void __pyx_memoryview_slice_assign_scalar(__Pyx_memviewslice *, int, size_t, void *, int); /*proto*/
static void __pyx_memoryview__slice_assign_scalar(char *, Py_ssize_t *, Py_ssize_t *, int, size_t, void *); /*proto*/
static __Pyx_TypeInfo __Pyx_TypeInfo_nn___pyx_t_5numpy_uint8_t = { "uint8_t", NULL, sizeof(__pyx_t_5numpy_uint8_t), { 0 }, 0, IS_UNSIGNED(__pyx_t_5numpy_uint8_t) ? 'U' : 'I', IS_UNSIGNED(__pyx_t_5numpy_uint8_t), 0 };
static __Pyx_TypeInfo __Pyx_TypeInfo_nn___pyx_t_5numpy_uint16_t = { "uint16_t", NULL, sizeof(__pyx_t_5numpy_uint16_t), { 0 }, 0, IS_UNSIGNED(__pyx_t_5numpy_uint16_t) ? 'U' : 'I', IS_UNSIGNED(__pyx_t_5numpy_uint16_t), 0 };
static __Pyx_TypeInfo __Pyx_TypeInfo_nn___pyx_t_5numpy_double_t = { "double_t", NULL, sizeof(__pyx_t_5numpy_double_t), { 0 }, 0, 'R', 0, 0 };
static __Pyx_TypeInfo __Pyx_TypeInfo_char = { "char", NULL, sizeof(char), { 0 }, 0, 'H', IS_UNSIGNED(char), 0 };
#define __Pyx_MODULE_NAME "skimage.filters.rank.generic_cy"
int __pyx_module_is_main_skimage__filters__rank__generic_cy = 0;

/* Implementation of 'skimage.filters.rank.generic_cy' */
static PyObject *__pyx_builtin_range;
static PyObject *__pyx_builtin_xrange;
static PyObject *__pyx_builtin_ImportError;
static PyObject *__pyx_builtin_AttributeError;
static PyObject *__pyx_builtin_TypeError;
static PyObject *__pyx_builtin_zip;
static PyObject *__pyx_builtin_ValueError;
static PyObject *__pyx_builtin_RuntimeError;
static PyObject *__pyx_builtin_MemoryError;
static PyObject *__pyx_builtin_enumerate;
static PyObject *__pyx_builtin_Ellipsis;
static PyObject *__pyx_builtin_id;
static PyObject *__pyx_builtin_IndexError;
static char __pyx_k_[] = "()";
static char __pyx_k_B[] = "B";
static char __pyx_k_H[] = "H";
static char __pyx_k_I[] = "I";
static char __pyx_k_L[] = "L";
static char __pyx_k_O[] = "O";
static char __pyx_k_Q[] = "Q";
static char __pyx_k_b[] = "b";
static char __pyx_k_c[] = "c";
static char __pyx_k_d[] = "d";
static char __pyx_k_f[] = "f";
static char __pyx_k_g[] = "g";
static char __pyx_k_h[] = "h";
static char __pyx_k_i[] = "i";
static char __pyx_k_l[] = "l";
static char __pyx_k_q[] = "q";
static char __pyx_k_Zd[] = "Zd";
static char __pyx_k_Zf[] = "Zf";
static char __pyx_k_Zg[] = "Zg";
static char __pyx_k__3[] = "|";
static char __pyx_k_id[] = "id";
static char __pyx_k_obj[] = "obj";
static char __pyx_k_out[] = "out";
static char __pyx_k_pop[] = "_pop";
static char __pyx_k_sum[] = "_sum";
static char __pyx_k_zip[] = "zip";
static char __pyx_k_args[] = "args";
static char __pyx_k_base[] = "base";
static char __pyx_k_kind[] = "kind";
static char __pyx_k_main[] = "__main__";
static char __pyx_k_mask[] = "mask";
static char __pyx_k_mean[] = "_mean";
static char __pyx_k_mode[] = "mode";
static char __pyx_k_name[] = "name";
static char __pyx_k_ndim[] = "ndim";
static char __pyx_k_otsu[] = "_otsu";
static char __pyx_k_pack[] = "pack";
static char __pyx_k_size[] = "size";
static char __pyx_k_step[] = "step";
static char __pyx_k_stop[] = "stop";
static char __pyx_k_test[] = "__test__";
static char __pyx_k_ASCII[] = "ASCII";
static char __pyx_k_class[] = "__class__";
static char __pyx_k_dtype[] = "dtype";
static char __pyx_k_error[] = "error";
static char __pyx_k_flags[] = "flags";
static char __pyx_k_image[] = "image";
static char __pyx_k_modal[] = "_modal";
static char __pyx_k_numpy[] = "numpy";
static char __pyx_k_range[] = "range";
static char __pyx_k_selem[] = "selem";
static char __pyx_k_shape[] = "shape";
static char __pyx_k_split[] = "split";
static char __pyx_k_start[] = "start";
static char __pyx_k_strip[] = "strip";
static char __pyx_k_encode[] = "encode";
static char __pyx_k_format[] = "format";
static char __pyx_k_import[] = "__import__";
static char __pyx_k_kwargs[] = "kwargs";
static char __pyx_k_median[] = "_median";
static char __pyx_k_name_2[] = "__name__";
static char __pyx_k_struct[] = "struct";
static char __pyx_k_tophat[] = "_tophat";
static char __pyx_k_unpack[] = "unpack";
static char __pyx_k_xrange[] = "xrange";
static char __pyx_k_entropy[] = "_entropy";
static char __pyx_k_fortran[] = "fortran";
static char __pyx_k_max_bin[] = "max_bin";
static char __pyx_k_maximum[] = "_maximum";
static char __pyx_k_memview[] = "memview";
static char __pyx_k_minimum[] = "_minimum";
static char __pyx_k_ndarray[] = "ndarray";
static char __pyx_k_shift_x[] = "shift_x";
static char __pyx_k_shift_y[] = "shift_y";
static char __pyx_k_uint8_t[] = "uint8_t";
static char __pyx_k_Ellipsis[] = "Ellipsis";
static char __pyx_k_defaults[] = "defaults";
static char __pyx_k_double_t[] = "double_t";
static char __pyx_k_equalize[] = "_equalize";
static char __pyx_k_gradient[] = "_gradient";
static char __pyx_k_itemsize[] = "itemsize";
static char __pyx_k_uint16_t[] = "uint16_t";
static char __pyx_k_TypeError[] = "TypeError";
static char __pyx_k_autolevel[] = "_autolevel";
static char __pyx_k_bottomhat[] = "_bottomhat";
static char __pyx_k_enumerate[] = "enumerate";
static char __pyx_k_threshold[] = "_threshold";
static char __pyx_k_IndexError[] = "IndexError";
static char __pyx_k_ValueError[] = "ValueError";
static char __pyx_k_pyx_vtable[] = "__pyx_vtable__";
static char __pyx_k_signatures[] = "signatures";
static char __pyx_k_ImportError[] = "ImportError";
static char __pyx_k_MemoryError[] = "MemoryError";
static char __pyx_k_RuntimeError[] = "RuntimeError";
static char __pyx_k_noise_filter[] = "_noise_filter";
static char __pyx_k_pyx_getbuffer[] = "__pyx_getbuffer";
static char __pyx_k_subtract_mean[] = "_subtract_mean";
static char __pyx_k_windowed_hist[] = "_windowed_hist";
static char __pyx_k_AttributeError[] = "AttributeError";
static char __pyx_k_geometric_mean[] = "_geometric_mean";
static char __pyx_k_allocate_buffer[] = "allocate_buffer";
static char __pyx_k_dtype_is_object[] = "dtype_is_object";
static char __pyx_k_uint8_t_uint8_t[] = "uint8_t|uint8_t";
static char __pyx_k_enhance_contrast[] = "_enhance_contrast";
static char __pyx_k_uint16_t_uint8_t[] = "uint16_t|uint8_t";
static char __pyx_k_uint8_t_double_t[] = "uint8_t|double_t";
static char __pyx_k_uint8_t_uint16_t[] = "uint8_t|uint16_t";
static char __pyx_k_uint16_t_double_t[] = "uint16_t|double_t";
static char __pyx_k_uint16_t_uint16_t[] = "uint16_t|uint16_t";
static char __pyx_k_strided_and_direct[] = "<strided and direct>";
static char __pyx_k_strided_and_indirect[] = "<strided and indirect>";
static char __pyx_k_contiguous_and_direct[] = "<contiguous and direct>";
static char __pyx_k_MemoryView_of_r_object[] = "<MemoryView of %r object>";
static char __pyx_k_MemoryView_of_r_at_0x_x[] = "<MemoryView of %r at 0x%x>";
static char __pyx_k_contiguous_and_indirect[] = "<contiguous and indirect>";
static char __pyx_k_Cannot_index_with_type_s[] = "Cannot index with type '%s'";
static char __pyx_k_getbuffer_obj_view_flags[] = "getbuffer(obj, view, flags)";
static char __pyx_k_Dimension_d_is_not_direct[] = "Dimension %d is not direct";
static char __pyx_k_Invalid_shape_in_axis_d_d[] = "Invalid shape in axis %d: %d.";
static char __pyx_k_Index_out_of_bounds_axis_d[] = "Index out of bounds (axis %d)";
static char __pyx_k_No_matching_signature_found[] = "No matching signature found";
static char __pyx_k_Step_may_not_be_zero_axis_d[] = "Step may not be zero (axis %d)";
static char __pyx_k_itemsize_0_for_cython_array[] = "itemsize <= 0 for cython.array";
static char __pyx_k_ndarray_is_not_C_contiguous[] = "ndarray is not C contiguous";
static char __pyx_k_Expected_at_least_d_arguments[] = "Expected at least %d arguments";
static char __pyx_k_unable_to_allocate_array_data[] = "unable to allocate array data.";
static char __pyx_k_strided_and_direct_or_indirect[] = "<strided and direct or indirect>";
static char __pyx_k_home_stefan_src_scikit_image_sk[] = "/home/stefan/src/scikit-image/skimage/filters/rank/generic_cy.pyx";
static char __pyx_k_skimage_filters_rank_generic_cy[] = "skimage.filters.rank.generic_cy";
static char __pyx_k_unknown_dtype_code_in_numpy_pxd[] = "unknown dtype code in numpy.pxd (%d)";
static char __pyx_k_All_dimensions_preceding_dimensi[] = "All dimensions preceding dimension %d must be indexed and not sliced";
static char __pyx_k_Buffer_view_does_not_expose_stri[] = "Buffer view does not expose strides";
static char __pyx_k_Can_only_create_a_buffer_that_is[] = "Can only create a buffer that is contiguous in memory.";
static char __pyx_k_Cannot_transpose_memoryview_with[] = "Cannot transpose memoryview with indirect dimensions";
static char __pyx_k_Empty_shape_tuple_for_cython_arr[] = "Empty shape tuple for cython.array";
static char __pyx_k_Format_string_allocated_too_shor[] = "Format string allocated too short, see comment in numpy.pxd";
static char __pyx_k_Function_call_with_ambiguous_arg[] = "Function call with ambiguous argument types";
static char __pyx_k_Indirect_dimensions_not_supporte[] = "Indirect dimensions not supported";
static char __pyx_k_Invalid_mode_expected_c_or_fortr[] = "Invalid mode, expected 'c' or 'fortran', got %s";
static char __pyx_k_Non_native_byte_order_not_suppor[] = "Non-native byte order not supported";
static char __pyx_k_Out_of_bounds_on_buffer_access_a[] = "Out of bounds on buffer access (axis %d)";
static char __pyx_k_Unable_to_convert_item_to_object[] = "Unable to convert item to object";
static char __pyx_k_got_differing_extents_in_dimensi[] = "got differing extents in dimension %d (got %d and %d)";
static char __pyx_k_ndarray_is_not_Fortran_contiguou[] = "ndarray is not Fortran contiguous";
static char __pyx_k_unable_to_allocate_shape_and_str[] = "unable to allocate shape and strides.";
static char __pyx_k_Format_string_allocated_too_shor_2[] = "Format string allocated too short.";
static PyObject *__pyx_kp_s_;
static PyObject *__pyx_n_s_ASCII;
static PyObject *__pyx_n_s_AttributeError;
static PyObject *__pyx_kp_s_Buffer_view_does_not_expose_stri;
static PyObject *__pyx_kp_s_Can_only_create_a_buffer_that_is;
static PyObject *__pyx_kp_s_Cannot_index_with_type_s;
static PyObject *__pyx_n_s_Ellipsis;
static PyObject *__pyx_kp_s_Empty_shape_tuple_for_cython_arr;
static PyObject *__pyx_kp_s_Expected_at_least_d_arguments;
static PyObject *__pyx_kp_u_Format_string_allocated_too_shor;
static PyObject *__pyx_kp_u_Format_string_allocated_too_shor_2;
static PyObject *__pyx_kp_s_Function_call_with_ambiguous_arg;
static PyObject *__pyx_n_s_ImportError;
static PyObject *__pyx_n_s_IndexError;
static PyObject *__pyx_kp_s_Indirect_dimensions_not_supporte;
static PyObject *__pyx_kp_s_Invalid_mode_expected_c_or_fortr;
static PyObject *__pyx_kp_s_Invalid_shape_in_axis_d_d;
static PyObject *__pyx_n_s_MemoryError;
static PyObject *__pyx_kp_s_MemoryView_of_r_at_0x_x;
static PyObject *__pyx_kp_s_MemoryView_of_r_object;
static PyObject *__pyx_kp_s_No_matching_signature_found;
static PyObject *__pyx_kp_u_Non_native_byte_order_not_suppor;
static PyObject *__pyx_n_b_O;
static PyObject *__pyx_kp_s_Out_of_bounds_on_buffer_access_a;
static PyObject *__pyx_n_s_RuntimeError;
static PyObject *__pyx_n_s_TypeError;
static PyObject *__pyx_kp_s_Unable_to_convert_item_to_object;
static PyObject *__pyx_n_s_ValueError;
static PyObject *__pyx_kp_s__3;
static PyObject *__pyx_n_s_allocate_buffer;
static PyObject *__pyx_n_s_args;
static PyObject *__pyx_n_s_autolevel;
static PyObject *__pyx_n_s_base;
static PyObject *__pyx_n_s_bottomhat;
static PyObject *__pyx_n_s_c;
static PyObject *__pyx_n_u_c;
static PyObject *__pyx_n_s_class;
static PyObject *__pyx_kp_s_contiguous_and_direct;
static PyObject *__pyx_kp_s_contiguous_and_indirect;
static PyObject *__pyx_n_s_defaults;
static PyObject *__pyx_n_s_double_t;
static PyObject *__pyx_n_s_dtype;
static PyObject *__pyx_n_s_dtype_is_object;
static PyObject *__pyx_n_s_encode;
static PyObject *__pyx_n_s_enhance_contrast;
static PyObject *__pyx_n_s_entropy;
static PyObject *__pyx_n_s_enumerate;
static PyObject *__pyx_n_s_equalize;
static PyObject *__pyx_n_s_error;
static PyObject *__pyx_n_s_flags;
static PyObject *__pyx_n_s_format;
static PyObject *__pyx_n_s_fortran;
static PyObject *__pyx_n_u_fortran;
static PyObject *__pyx_n_s_geometric_mean;
static PyObject *__pyx_kp_s_got_differing_extents_in_dimensi;
static PyObject *__pyx_n_s_gradient;
static PyObject *__pyx_kp_s_home_stefan_src_scikit_image_sk;
static PyObject *__pyx_n_s_id;
static PyObject *__pyx_n_s_image;
static PyObject *__pyx_n_s_import;
static PyObject *__pyx_n_s_itemsize;
static PyObject *__pyx_kp_s_itemsize_0_for_cython_array;
static PyObject *__pyx_n_s_kind;
static PyObject *__pyx_n_s_kwargs;
static PyObject *__pyx_n_s_main;
static PyObject *__pyx_n_s_mask;
static PyObject *__pyx_n_s_max_bin;
static PyObject *__pyx_n_s_maximum;
static PyObject *__pyx_n_s_mean;
static PyObject *__pyx_n_s_median;
static PyObject *__pyx_n_s_memview;
static PyObject *__pyx_n_s_minimum;
static PyObject *__pyx_n_s_modal;
static PyObject *__pyx_n_s_mode;
static PyObject *__pyx_n_s_name;
static PyObject *__pyx_n_s_name_2;
static PyObject *__pyx_n_s_ndarray;
static PyObject *__pyx_kp_u_ndarray_is_not_C_contiguous;
static PyObject *__pyx_kp_u_ndarray_is_not_Fortran_contiguou;
static PyObject *__pyx_n_s_ndim;
static PyObject *__pyx_n_s_noise_filter;
static PyObject *__pyx_n_s_numpy;
static PyObject *__pyx_n_s_obj;
static PyObject *__pyx_n_s_otsu;
static PyObject *__pyx_n_s_out;
static PyObject *__pyx_n_s_pack;
static PyObject *__pyx_n_s_pop;
static PyObject *__pyx_n_s_pyx_getbuffer;
static PyObject *__pyx_n_s_pyx_vtable;
static PyObject *__pyx_n_s_range;
static PyObject *__pyx_n_s_selem;
static PyObject *__pyx_n_s_shape;
static PyObject *__pyx_n_s_shift_x;
static PyObject *__pyx_n_s_shift_y;
static PyObject *__pyx_n_s_signatures;
static PyObject *__pyx_n_s_size;
static PyObject *__pyx_n_s_skimage_filters_rank_generic_cy;
static PyObject *__pyx_n_s_split;
static PyObject *__pyx_n_s_start;
static PyObject *__pyx_n_s_step;
static PyObject *__pyx_n_s_stop;
static PyObject *__pyx_kp_s_strided_and_direct;
static PyObject *__pyx_kp_s_strided_and_direct_or_indirect;
static PyObject *__pyx_kp_s_strided_and_indirect;
static PyObject *__pyx_n_s_strip;
static PyObject *__pyx_n_s_struct;
static PyObject *__pyx_n_s_subtract_mean;
static PyObject *__pyx_n_s_sum;
static PyObject *__pyx_n_s_test;
static PyObject *__pyx_n_s_threshold;
static PyObject *__pyx_n_s_tophat;
static PyObject *__pyx_n_s_uint16_t;
static PyObject *__pyx_kp_s_uint16_t_double_t;
static PyObject *__pyx_kp_s_uint16_t_uint16_t;
static PyObject *__pyx_kp_s_uint16_t_uint8_t;
static PyObject *__pyx_n_s_uint8_t;
static PyObject *__pyx_kp_s_uint8_t_double_t;
static PyObject *__pyx_kp_s_uint8_t_uint16_t;
static PyObject *__pyx_kp_s_uint8_t_uint8_t;
static PyObject *__pyx_kp_s_unable_to_allocate_array_data;
static PyObject *__pyx_kp_s_unable_to_allocate_shape_and_str;
static PyObject *__pyx_kp_u_unknown_dtype_code_in_numpy_pxd;
static PyObject *__pyx_n_s_unpack;
static PyObject *__pyx_n_s_windowed_hist;
static PyObject *__pyx_n_s_xrange;
static PyObject *__pyx_n_s_zip;
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy__autolevel(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_40_autolevel(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_42_autolevel(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_44_autolevel(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_46_autolevel(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_48_autolevel(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_50_autolevel(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_2_bottomhat(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_54_bottomhat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_56_bottomhat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_58_bottomhat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_60_bottomhat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_62_bottomhat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_64_bottomhat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_4_equalize(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_68_equalize(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_70_equalize(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_72_equalize(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_74_equalize(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_76_equalize(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_78_equalize(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_6_gradient(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_82_gradient(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_84_gradient(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_86_gradient(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_88_gradient(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_90_gradient(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_92_gradient(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_8_maximum(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_96_maximum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_98_maximum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_100_maximum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_102_maximum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_104_maximum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_106_maximum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_10_mean(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_110_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_112_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_114_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_116_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_118_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_120_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_12_geometric_mean(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_124_geometric_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_126_geometric_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_128_geometric_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_130_geometric_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_132_geometric_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_134_geometric_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_14_subtract_mean(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_138_subtract_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_140_subtract_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_142_subtract_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_144_subtract_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_146_subtract_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_148_subtract_mean(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_16_median(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_152_median(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_154_median(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_156_median(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_158_median(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_160_median(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_162_median(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_18_minimum(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_166_minimum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_168_minimum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_170_minimum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_172_minimum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_174_minimum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_176_minimum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_20_enhance_contrast(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_180_enhance_contrast(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_182_enhance_contrast(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_184_enhance_contrast(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_186_enhance_contrast(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_188_enhance_contrast(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_190_enhance_contrast(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_22_modal(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_194_modal(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_196_modal(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_198_modal(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_200_modal(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_202_modal(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_204_modal(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_24_pop(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_208_pop(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_210_pop(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_212_pop(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_214_pop(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_216_pop(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_218_pop(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_26_sum(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_222_sum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_224_sum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_226_sum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_228_sum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_230_sum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_232_sum(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_28_threshold(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_236_threshold(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_238_threshold(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_240_threshold(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_242_threshold(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_244_threshold(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_246_threshold(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_30_tophat(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_250_tophat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_252_tophat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_254_tophat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_256_tophat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_258_tophat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_260_tophat(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_32_noise_filter(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_264_noise_filter(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_266_noise_filter(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_268_noise_filter(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_270_noise_filter(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_272_noise_filter(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_274_noise_filter(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_34_entropy(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_278_entropy(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_280_entropy(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_282_entropy(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_284_entropy(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_286_entropy(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_288_entropy(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_36_otsu(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_292_otsu(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_294_otsu(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_296_otsu(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_298_otsu(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_300_otsu(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_302_otsu(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_38_windowed_hist(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_signatures, PyObject *__pyx_v_args, PyObject *__pyx_v_kwargs, CYTHON_UNUSED PyObject *__pyx_v_defaults); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_306_windowed_hist(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_308_windowed_hist(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_310_windowed_hist(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_312_windowed_hist(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_314_windowed_hist(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static PyObject *__pyx_pf_7skimage_7filters_4rank_10generic_cy_316_windowed_hist(CYTHON_UNUSED PyObject *__pyx_self, __Pyx_memviewslice __pyx_v_image, __Pyx_memviewslice __pyx_v_selem, __Pyx_memviewslice __pyx_v_mask, __Pyx_memviewslice __pyx_v_out, signed char __pyx_v_shift_x, signed char __pyx_v_shift_y, Py_ssize_t __pyx_v_max_bin); /* proto */
static int __pyx_pf_5numpy_7ndarray___getbuffer__(PyArrayObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /* proto */
static void __pyx_pf_5numpy_7ndarray_2__releasebuffer__(PyArrayObject *__pyx_v_self, Py_buffer *__pyx_v_info); /* proto */
static int __pyx_array___pyx_pf_15View_dot_MemoryView_5array___cinit__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_shape, Py_ssize_t __pyx_v_itemsize, PyObject *__pyx_v_format, PyObject *__pyx_v_mode, int __pyx_v_allocate_buffer); /* proto */
static int __pyx_array___pyx_pf_15View_dot_MemoryView_5array_2__getbuffer__(struct __pyx_array_obj *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /* proto */
static void __pyx_array___pyx_pf_15View_dot_MemoryView_5array_4__dealloc__(struct __pyx_array_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_15View_dot_MemoryView_5array_7memview___get__(struct __pyx_array_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_array___pyx_pf_15View_dot_MemoryView_5array_6__getattr__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_attr); /* proto */
static PyObject *__pyx_array___pyx_pf_15View_dot_MemoryView_5array_8__getitem__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_item); /* proto */
static int __pyx_array___pyx_pf_15View_dot_MemoryView_5array_10__setitem__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_item, PyObject *__pyx_v_value); /* proto */
static int __pyx_MemviewEnum___pyx_pf_15View_dot_MemoryView_4Enum___init__(struct __pyx_MemviewEnum_obj *__pyx_v_self, PyObject *__pyx_v_name); /* proto */
static PyObject *__pyx_MemviewEnum___pyx_pf_15View_dot_MemoryView_4Enum_2__repr__(struct __pyx_MemviewEnum_obj *__pyx_v_self); /* proto */
static int __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview___cinit__(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_obj, int __pyx_v_flags, int __pyx_v_dtype_is_object); /* proto */
static void __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_2__dealloc__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_4__getitem__(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index); /* proto */
static int __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_6__setitem__(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index, PyObject *__pyx_v_value); /* proto */
static int __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_8__getbuffer__(struct __pyx_memoryview_obj *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /* proto */
static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_1T___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_4base___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_5shape___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_7strides___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_10suboffsets___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_4ndim___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_8itemsize___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_6nbytes___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_4size___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static Py_ssize_t __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_10__len__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_12__repr__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_14__str__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_16is_c_contig(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_18is_f_contig(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_20copy(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_22copy_fortran(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
static void __pyx_memoryviewslice___pyx_pf_15View_dot_MemoryView_16_memoryviewslice___dealloc__(struct __pyx_memoryviewslice_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_pf_15View_dot_MemoryView_16_memoryviewslice_4base___get__(struct __pyx_memoryviewslice_obj *__pyx_v_self); /* proto */
static PyObject *__pyx_tp_new_array(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_Enum(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new_memoryview(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_tp_new__memoryviewslice(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
static PyObject *__pyx_int_0;
static PyObject *__pyx_int_1;
static PyObject *__pyx_int_neg_1;
static PyObject *__pyx_tuple__2;
static PyObject *__pyx_tuple__4;
static PyObject *__pyx_tuple__5;
static PyObject *__pyx_tuple__6;
static PyObject *__pyx_tuple__7;
static PyObject *__pyx_tuple__8;
static PyObject *__pyx_tuple__9;
static PyObject *__pyx_slice__98;
static PyObject *__pyx_slice__99;
static PyObject *__pyx_tuple__10;
static PyObject *__pyx_tuple__11;
static PyObject *__pyx_tuple__12;
static PyObject *__pyx_tuple__13;
static PyObject *__pyx_tuple__14;
static PyObject *__pyx_tuple__15;
static PyObject *__pyx_tuple__16;
static PyObject *__pyx_tuple__17;
static PyObject *__pyx_tuple__18;
static PyObject *__pyx_tuple__19;
static PyObject *__pyx_tuple__20;
static PyObject *__pyx_tuple__21;
static PyObject *__pyx_tuple__22;
static PyObject *__pyx_tuple__23;
static PyObject *__pyx_tuple__24;
static PyObject *__pyx_tuple__25;
static PyObject *__pyx_tuple__26;
static PyObject *__pyx_tuple__27;
static PyObject *__pyx_tuple__28;
static PyObject *__pyx_tuple__29;
static PyObject *__pyx_tuple__30;
static PyObject *__pyx_tuple__31;
static PyObject *__pyx_tuple__32;
static PyObject *__pyx_tuple__33;
static PyObject *__pyx_tuple__34;
static PyObject *__pyx_tuple__35;
static PyObject *__pyx_tuple__36;
static PyObject *__pyx_tuple__37;
static PyObject *__pyx_tuple__38;
static PyObject *__pyx_tuple__39;
static PyObject *__pyx_tuple__40;
static PyObject *__pyx_tuple__41;
static PyObject *__pyx_tuple__42;
static PyObject *__pyx_tuple__43;
static PyObject *__pyx_tuple__44;
static PyObject *__pyx_tuple__45;
static PyObject *__pyx_tuple__46;
static PyObject *__pyx_tuple__47;
static PyObject *__pyx_tuple__48;
static PyObject *__pyx_tuple__49;
static PyObject *__pyx_tuple__50;
static PyObject *__pyx_tuple__51;
static PyObject *__pyx_tuple__52;
static PyObject *__pyx_tuple__53;
static PyObject *__pyx_tuple__54;
static PyObject *__pyx_tuple__55;
static PyObject *__pyx_tuple__56;
static PyObject *__pyx_tuple__57;
static PyObject *__pyx_tuple__58;
static PyObject *__pyx_tuple__59;
static PyObject *__pyx_tuple__60;
static PyObject *__pyx_tuple__61;
static PyObject *__pyx_tuple__62;
static PyObject *__pyx_tuple__63;
static PyObject *__pyx_tuple__64;
static PyObject *__pyx_tuple__65;
static PyObject *__pyx_tuple__66;
static PyObject *__pyx_tuple__67;
static PyObject *__pyx_tuple__68;
static PyObject *__pyx_tuple__69;
static PyObject *__pyx_tuple__70;
static PyObject *__pyx_tuple__71;
static PyObject *__pyx_tuple__72;
static PyObject *__pyx_tuple__73;
static PyObject *__pyx_tuple__74;
static PyObject *__pyx_tuple__75;
static PyObject *__pyx_tuple__76;
static PyObject *__pyx_tuple__77;
static PyObject *__pyx_tuple__78;
static PyObject *__pyx_tuple__79;
static PyObject *__pyx_tuple__80;
static PyObject *__pyx_tuple__81;
static PyObject *__pyx_tuple__82;
static PyObject *__pyx_tuple__83;
static PyObject *__pyx_tuple__84;
static PyObject *__pyx_tuple__85;
static PyObject *__pyx_tuple__86;
static PyObject *__pyx_tuple__87;
static PyObject *__pyx_tuple__88;
static PyObject *__pyx_tuple__89;
static PyObject *__pyx_tuple__90;
static PyObject *__pyx_tuple__91;
static PyObject *__pyx_tuple__92;
static PyObject *__pyx_tuple__93;
static PyObject *__pyx_tuple__94;
static PyObject *__pyx_tuple__95;
static PyObject *__pyx_tuple__96;
static PyObject *__pyx_tuple__97;
static PyObject *__pyx_slice__100;
static PyObject *__pyx_tuple__101;
static PyObject *__pyx_tuple__102;
static PyObject *__pyx_tuple__104;
static PyObject *__pyx_tuple__106;
static PyObject *__pyx_tuple__108;
static PyObject *__pyx_tuple__110;
static PyObject *__pyx_tuple__112;
static PyObject *__pyx_tuple__114;
static PyObject *__pyx_tuple__116;
static PyObject *__pyx_tuple__118;
static PyObject *__pyx_tuple__120;
static PyObject *__pyx_tuple__122;
static PyObject *__pyx_tuple__124;
static PyObject *__pyx_tuple__126;
static PyObject *__pyx_tuple__128;
static PyObject *__pyx_tuple__130;
static PyObject *__pyx_tuple__132;
static PyObject *__pyx_tuple__134;
static PyObject *__pyx_tuple__136;
static PyObject *__pyx_tuple__138;
static PyObject *__pyx_tuple__140;
static PyObject *__pyx_tuple__142;
static PyObject *__pyx_tuple__143;
static PyObject *__pyx_tuple__144;
static PyObject *__pyx_tuple__145;
static PyObject *__pyx_tuple__146;
static PyObject *__pyx_codeobj__103;
static PyObject *__pyx_codeobj__105;
static PyObject *__pyx_codeobj__107;
static PyObject *__pyx_codeobj__109;
static PyObject *__pyx_codeobj__111;
static PyObject *__pyx_codeobj__113;
static PyObject *__pyx_codeobj__115;
static PyObject *__pyx_codeobj__117;
static PyObject *__pyx_codeobj__119;
static PyObject *__pyx_codeobj__121;
static PyObject *__pyx_codeobj__123;
static PyObject *__pyx_codeobj__125;
static PyObject *__pyx_codeobj__127;
static PyObject *__pyx_codeobj__129;
static PyObject *__pyx_codeobj__131;
static PyObject *__pyx_codeobj__133;
static PyObject *__pyx_codeobj__135;
static PyObject *__pyx_codeobj__137;
static PyObject *__pyx_codeobj__139;
static PyObject *__pyx_codeobj__141;

/* "skimage/filters/rank/generic_cy.pyx":13
 * from ..._shared.interpolation cimport round
 * 
 * cdef inline void _kernel_autolevel(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  Py_ssize_t __pyx_v_delta;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":23
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":25
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":26
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":27
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":29
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         delta = imax - imin
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":30
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         delta = imax - imin
 *         if delta > 0:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":31
 *                 imin = i
 *                 break
 *         delta = imax - imin             # <<<<<<<<<<<<<<
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 */
    __pyx_v_delta = (__pyx_v_imax - __pyx_v_imin);

    /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
    __pyx_t_1 = ((__pyx_v_delta > 0) != 0);
    if (__pyx_t_1) {

      /* "skimage/filters/rank/generic_cy.pyx":33
 *         delta = imax - imin
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)             # <<<<<<<<<<<<<<
 *         else:
 *             out[0] = <dtype_t_out>0
 */
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)(((__pyx_v_max_bin - 1) * (__pyx_v_g - __pyx_v_imin)) / __pyx_v_delta));

      /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
      goto __pyx_L10;
    }

    /* "skimage/filters/rank/generic_cy.pyx":35
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 *             out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    /*else*/ {
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
    }
    __pyx_L10:;

    /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":37
 *             out[0] = <dtype_t_out>0
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":13
 * from ..._shared.interpolation cimport round
 * 
 * cdef inline void _kernel_autolevel(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  Py_ssize_t __pyx_v_delta;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":23
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":25
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":26
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":27
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":29
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         delta = imax - imin
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":30
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         delta = imax - imin
 *         if delta > 0:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":31
 *                 imin = i
 *                 break
 *         delta = imax - imin             # <<<<<<<<<<<<<<
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 */
    __pyx_v_delta = (__pyx_v_imax - __pyx_v_imin);

    /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
    __pyx_t_1 = ((__pyx_v_delta > 0) != 0);
    if (__pyx_t_1) {

      /* "skimage/filters/rank/generic_cy.pyx":33
 *         delta = imax - imin
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)             # <<<<<<<<<<<<<<
 *         else:
 *             out[0] = <dtype_t_out>0
 */
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)(((__pyx_v_max_bin - 1) * (__pyx_v_g - __pyx_v_imin)) / __pyx_v_delta));

      /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
      goto __pyx_L10;
    }

    /* "skimage/filters/rank/generic_cy.pyx":35
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 *             out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    /*else*/ {
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
    }
    __pyx_L10:;

    /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":37
 *             out[0] = <dtype_t_out>0
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":13
 * from ..._shared.interpolation cimport round
 * 
 * cdef inline void _kernel_autolevel(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  Py_ssize_t __pyx_v_delta;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":23
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":25
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":26
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":27
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":29
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         delta = imax - imin
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":30
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         delta = imax - imin
 *         if delta > 0:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":31
 *                 imin = i
 *                 break
 *         delta = imax - imin             # <<<<<<<<<<<<<<
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 */
    __pyx_v_delta = (__pyx_v_imax - __pyx_v_imin);

    /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
    __pyx_t_1 = ((__pyx_v_delta > 0) != 0);
    if (__pyx_t_1) {

      /* "skimage/filters/rank/generic_cy.pyx":33
 *         delta = imax - imin
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)             # <<<<<<<<<<<<<<
 *         else:
 *             out[0] = <dtype_t_out>0
 */
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)(((__pyx_v_max_bin - 1) * (__pyx_v_g - __pyx_v_imin)) / __pyx_v_delta));

      /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
      goto __pyx_L10;
    }

    /* "skimage/filters/rank/generic_cy.pyx":35
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 *             out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    /*else*/ {
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
    }
    __pyx_L10:;

    /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":37
 *             out[0] = <dtype_t_out>0
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":13
 * from ..._shared.interpolation cimport round
 * 
 * cdef inline void _kernel_autolevel(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  Py_ssize_t __pyx_v_delta;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":23
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":25
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":26
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":27
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":29
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         delta = imax - imin
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":30
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         delta = imax - imin
 *         if delta > 0:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":31
 *                 imin = i
 *                 break
 *         delta = imax - imin             # <<<<<<<<<<<<<<
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 */
    __pyx_v_delta = (__pyx_v_imax - __pyx_v_imin);

    /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
    __pyx_t_1 = ((__pyx_v_delta > 0) != 0);
    if (__pyx_t_1) {

      /* "skimage/filters/rank/generic_cy.pyx":33
 *         delta = imax - imin
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)             # <<<<<<<<<<<<<<
 *         else:
 *             out[0] = <dtype_t_out>0
 */
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)(((__pyx_v_max_bin - 1) * (__pyx_v_g - __pyx_v_imin)) / __pyx_v_delta));

      /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
      goto __pyx_L10;
    }

    /* "skimage/filters/rank/generic_cy.pyx":35
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 *             out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    /*else*/ {
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
    }
    __pyx_L10:;

    /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":37
 *             out[0] = <dtype_t_out>0
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":13
 * from ..._shared.interpolation cimport round
 * 
 * cdef inline void _kernel_autolevel(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  Py_ssize_t __pyx_v_delta;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":23
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":25
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":26
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":27
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":29
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         delta = imax - imin
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":30
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         delta = imax - imin
 *         if delta > 0:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":31
 *                 imin = i
 *                 break
 *         delta = imax - imin             # <<<<<<<<<<<<<<
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 */
    __pyx_v_delta = (__pyx_v_imax - __pyx_v_imin);

    /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
    __pyx_t_1 = ((__pyx_v_delta > 0) != 0);
    if (__pyx_t_1) {

      /* "skimage/filters/rank/generic_cy.pyx":33
 *         delta = imax - imin
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)             # <<<<<<<<<<<<<<
 *         else:
 *             out[0] = <dtype_t_out>0
 */
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)(((__pyx_v_max_bin - 1) * (__pyx_v_g - __pyx_v_imin)) / __pyx_v_delta));

      /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
      goto __pyx_L10;
    }

    /* "skimage/filters/rank/generic_cy.pyx":35
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 *             out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    /*else*/ {
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
    }
    __pyx_L10:;

    /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":37
 *             out[0] = <dtype_t_out>0
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":13
 * from ..._shared.interpolation cimport round
 * 
 * cdef inline void _kernel_autolevel(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_autolevel(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  Py_ssize_t __pyx_v_delta;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":23
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":25
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":26
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":24
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":27
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":29
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         delta = imax - imin
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":30
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         delta = imax - imin
 *         if delta > 0:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":28
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":31
 *                 imin = i
 *                 break
 *         delta = imax - imin             # <<<<<<<<<<<<<<
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 */
    __pyx_v_delta = (__pyx_v_imax - __pyx_v_imin);

    /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
    __pyx_t_1 = ((__pyx_v_delta > 0) != 0);
    if (__pyx_t_1) {

      /* "skimage/filters/rank/generic_cy.pyx":33
 *         delta = imax - imin
 *         if delta > 0:
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)             # <<<<<<<<<<<<<<
 *         else:
 *             out[0] = <dtype_t_out>0
 */
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)(((__pyx_v_max_bin - 1) * (__pyx_v_g - __pyx_v_imin)) / __pyx_v_delta));

      /* "skimage/filters/rank/generic_cy.pyx":32
 *                 break
 *         delta = imax - imin
 *         if delta > 0:             # <<<<<<<<<<<<<<
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 */
      goto __pyx_L10;
    }

    /* "skimage/filters/rank/generic_cy.pyx":35
 *             out[0] = <dtype_t_out>((max_bin - 1) * (g - imin) / delta)
 *         else:
 *             out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    /*else*/ {
      (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
    }
    __pyx_L10:;

    /* "skimage/filters/rank/generic_cy.pyx":22
 *     cdef Py_ssize_t i, imin, imax, delta
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":37
 *             out[0] = <dtype_t_out>0
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":13
 * from ..._shared.interpolation cimport round
 * 
 * cdef inline void _kernel_autolevel(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

/* "skimage/filters/rank/generic_cy.pyx":40
 * 
 * 
 * cdef inline void _kernel_bottomhat(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":50
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 break
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":52
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":53
 *             if histo[i]:
 *                 break
 *         out[0] = <dtype_t_out>(g - i)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)(__pyx_v_g - __pyx_v_i));

    /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":55
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":40
 * 
 * 
 * cdef inline void _kernel_bottomhat(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":50
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 break
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":52
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":53
 *             if histo[i]:
 *                 break
 *         out[0] = <dtype_t_out>(g - i)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)(__pyx_v_g - __pyx_v_i));

    /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":55
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":40
 * 
 * 
 * cdef inline void _kernel_bottomhat(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":50
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 break
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":52
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":53
 *             if histo[i]:
 *                 break
 *         out[0] = <dtype_t_out>(g - i)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)(__pyx_v_g - __pyx_v_i));

    /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":55
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":40
 * 
 * 
 * cdef inline void _kernel_bottomhat(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":50
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 break
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":52
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":53
 *             if histo[i]:
 *                 break
 *         out[0] = <dtype_t_out>(g - i)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)(__pyx_v_g - __pyx_v_i));

    /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":55
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":40
 * 
 * 
 * cdef inline void _kernel_bottomhat(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":50
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 break
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":52
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":53
 *             if histo[i]:
 *                 break
 *         out[0] = <dtype_t_out>(g - i)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)(__pyx_v_g - __pyx_v_i));

    /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":55
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":40
 * 
 * 
 * cdef inline void _kernel_bottomhat(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_bottomhat(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":50
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 break
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":52
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":51
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(g - i)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":53
 *             if histo[i]:
 *                 break
 *         out[0] = <dtype_t_out>(g - i)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)(__pyx_v_g - __pyx_v_i));

    /* "skimage/filters/rank/generic_cy.pyx":49
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":55
 *         out[0] = <dtype_t_out>(g - i)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":40
 * 
 * 
 * cdef inline void _kernel_bottomhat(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                    Py_ssize_t* histo,
 *                                    double pop, dtype_t g,
 */

  /* function exit code */
}

/* "skimage/filters/rank/generic_cy.pyx":58
 * 
 * 
 * cdef inline void _kernel_equalize(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_sum;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":66
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t sum = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_sum = 0;

  /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":69
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             sum += histo[i]
 *             if i >= g:
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":70
 *     if pop:
 *         for i in range(max_bin):
 *             sum += histo[i]             # <<<<<<<<<<<<<<
 *             if i >= g:
 *                 break
 */
      __pyx_v_sum = (__pyx_v_sum + (__pyx_v_histo[__pyx_v_i]));

      /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      __pyx_t_1 = ((__pyx_v_i >= __pyx_v_g) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":72
 *             sum += histo[i]
 *             if i >= g:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":73
 *             if i >= g:
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)(((__pyx_v_max_bin - 1) * __pyx_v_sum) / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":75
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":58
 * 
 * 
 * cdef inline void _kernel_equalize(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_sum;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":66
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t sum = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_sum = 0;

  /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":69
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             sum += histo[i]
 *             if i >= g:
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":70
 *     if pop:
 *         for i in range(max_bin):
 *             sum += histo[i]             # <<<<<<<<<<<<<<
 *             if i >= g:
 *                 break
 */
      __pyx_v_sum = (__pyx_v_sum + (__pyx_v_histo[__pyx_v_i]));

      /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      __pyx_t_1 = ((__pyx_v_i >= __pyx_v_g) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":72
 *             sum += histo[i]
 *             if i >= g:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":73
 *             if i >= g:
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)(((__pyx_v_max_bin - 1) * __pyx_v_sum) / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":75
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":58
 * 
 * 
 * cdef inline void _kernel_equalize(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_sum;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":66
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t sum = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_sum = 0;

  /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":69
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             sum += histo[i]
 *             if i >= g:
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":70
 *     if pop:
 *         for i in range(max_bin):
 *             sum += histo[i]             # <<<<<<<<<<<<<<
 *             if i >= g:
 *                 break
 */
      __pyx_v_sum = (__pyx_v_sum + (__pyx_v_histo[__pyx_v_i]));

      /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      __pyx_t_1 = ((__pyx_v_i >= __pyx_v_g) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":72
 *             sum += histo[i]
 *             if i >= g:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":73
 *             if i >= g:
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)(((__pyx_v_max_bin - 1) * __pyx_v_sum) / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":75
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":58
 * 
 * 
 * cdef inline void _kernel_equalize(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_sum;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":66
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t sum = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_sum = 0;

  /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":69
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             sum += histo[i]
 *             if i >= g:
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":70
 *     if pop:
 *         for i in range(max_bin):
 *             sum += histo[i]             # <<<<<<<<<<<<<<
 *             if i >= g:
 *                 break
 */
      __pyx_v_sum = (__pyx_v_sum + (__pyx_v_histo[__pyx_v_i]));

      /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      __pyx_t_1 = ((__pyx_v_i >= __pyx_v_g) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":72
 *             sum += histo[i]
 *             if i >= g:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":73
 *             if i >= g:
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)(((__pyx_v_max_bin - 1) * __pyx_v_sum) / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":75
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":58
 * 
 * 
 * cdef inline void _kernel_equalize(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_sum;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":66
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t sum = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_sum = 0;

  /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":69
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             sum += histo[i]
 *             if i >= g:
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":70
 *     if pop:
 *         for i in range(max_bin):
 *             sum += histo[i]             # <<<<<<<<<<<<<<
 *             if i >= g:
 *                 break
 */
      __pyx_v_sum = (__pyx_v_sum + (__pyx_v_histo[__pyx_v_i]));

      /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      __pyx_t_1 = ((__pyx_v_i >= __pyx_v_g) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":72
 *             sum += histo[i]
 *             if i >= g:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":73
 *             if i >= g:
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)(((__pyx_v_max_bin - 1) * __pyx_v_sum) / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":75
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":58
 * 
 * 
 * cdef inline void _kernel_equalize(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_equalize(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_sum;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":66
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t sum = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_sum = 0;

  /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":69
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             sum += histo[i]
 *             if i >= g:
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":70
 *     if pop:
 *         for i in range(max_bin):
 *             sum += histo[i]             # <<<<<<<<<<<<<<
 *             if i >= g:
 *                 break
 */
      __pyx_v_sum = (__pyx_v_sum + (__pyx_v_histo[__pyx_v_i]));

      /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      __pyx_t_1 = ((__pyx_v_i >= __pyx_v_g) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":72
 *             sum += histo[i]
 *             if i >= g:
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":71
 *         for i in range(max_bin):
 *             sum += histo[i]
 *             if i >= g:             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":73
 *             if i >= g:
 *                 break
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)(((__pyx_v_max_bin - 1) * __pyx_v_sum) / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":68
 *     cdef Py_ssize_t sum = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             sum += histo[i]
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":75
 *         out[0] = <dtype_t_out>(((max_bin - 1) * sum) / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":58
 * 
 * 
 * cdef inline void _kernel_equalize(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

/* "skimage/filters/rank/generic_cy.pyx":78
 * 
 * 
 * cdef inline void _kernel_gradient(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":88
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":90
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":91
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":92
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":94
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":95
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":96
 *                 imin = i
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)(__pyx_v_imax - __pyx_v_imin));

    /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":98
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":78
 * 
 * 
 * cdef inline void _kernel_gradient(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":88
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":90
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":91
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":92
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":94
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":95
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":96
 *                 imin = i
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)(__pyx_v_imax - __pyx_v_imin));

    /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":98
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":78
 * 
 * 
 * cdef inline void _kernel_gradient(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":88
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":90
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":91
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":92
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":94
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":95
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":96
 *                 imin = i
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)(__pyx_v_imax - __pyx_v_imin));

    /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":98
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":78
 * 
 * 
 * cdef inline void _kernel_gradient(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":88
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":90
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":91
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":92
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":94
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":95
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":96
 *                 imin = i
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)(__pyx_v_imax - __pyx_v_imin));

    /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":98
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":78
 * 
 * 
 * cdef inline void _kernel_gradient(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":88
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":90
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":91
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":92
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":94
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":95
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":96
 *                 imin = i
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)(__pyx_v_imax - __pyx_v_imin));

    /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":98
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":78
 * 
 * 
 * cdef inline void _kernel_gradient(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_gradient(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_imin;
  Py_ssize_t __pyx_v_imax;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":88
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imax = i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":90
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 imax = i             # <<<<<<<<<<<<<<
 *                 break
 *         for i in range(max_bin):
 */
        __pyx_v_imax = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":91
 *             if histo[i]:
 *                 imax = i
 *                 break             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
        goto __pyx_L5_break;

        /* "skimage/filters/rank/generic_cy.pyx":89
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imax = i
 *                 break
 */
      }
    }
    __pyx_L5_break:;

    /* "skimage/filters/rank/generic_cy.pyx":92
 *                 imax = i
 *                 break
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 imin = i
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":94
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 imin = i             # <<<<<<<<<<<<<<
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)
 */
        __pyx_v_imin = __pyx_v_i;

        /* "skimage/filters/rank/generic_cy.pyx":95
 *             if histo[i]:
 *                 imin = i
 *                 break             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 */
        goto __pyx_L8_break;

        /* "skimage/filters/rank/generic_cy.pyx":93
 *                 break
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 imin = i
 *                 break
 */
      }
    }
    __pyx_L8_break:;

    /* "skimage/filters/rank/generic_cy.pyx":96
 *                 imin = i
 *                 break
 *         out[0] = <dtype_t_out>(imax - imin)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)(__pyx_v_imax - __pyx_v_imin));

    /* "skimage/filters/rank/generic_cy.pyx":87
 *     cdef Py_ssize_t i, imin, imax
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":98
 *         out[0] = <dtype_t_out>(imax - imin)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":78
 * 
 * 
 * cdef inline void _kernel_gradient(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                   Py_ssize_t* histo,
 *                                   double pop, dtype_t g,
 */

  /* function exit code */
}

/* "skimage/filters/rank/generic_cy.pyx":101
 * 
 * 
 * cdef inline void _kernel_maximum(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                  Py_ssize_t* histo,
 *                                  double pop, dtype_t g,
 */

static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;

  /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":111
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":113
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i             # <<<<<<<<<<<<<<
 *                 return
 *     else:
 */
        (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)__pyx_v_i);

        /* "skimage/filters/rank/generic_cy.pyx":114
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 *                 return             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
        goto __pyx_L0;

        /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      }
    }

    /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":116
 *                 return
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":101
 * 
 * 
 * cdef inline void _kernel_maximum(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                  Py_ssize_t* histo,
 *                                  double pop, dtype_t g,
 */

  /* function exit code */
  __pyx_L0:;
}

static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;

  /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":111
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":113
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i             # <<<<<<<<<<<<<<
 *                 return
 *     else:
 */
        (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)__pyx_v_i);

        /* "skimage/filters/rank/generic_cy.pyx":114
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 *                 return             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
        goto __pyx_L0;

        /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      }
    }

    /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":116
 *                 return
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":101
 * 
 * 
 * cdef inline void _kernel_maximum(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                  Py_ssize_t* histo,
 *                                  double pop, dtype_t g,
 */

  /* function exit code */
  __pyx_L0:;
}

static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;

  /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":111
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":113
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i             # <<<<<<<<<<<<<<
 *                 return
 *     else:
 */
        (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)__pyx_v_i);

        /* "skimage/filters/rank/generic_cy.pyx":114
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 *                 return             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
        goto __pyx_L0;

        /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      }
    }

    /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":116
 *                 return
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":101
 * 
 * 
 * cdef inline void _kernel_maximum(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                  Py_ssize_t* histo,
 *                                  double pop, dtype_t g,
 */

  /* function exit code */
  __pyx_L0:;
}

static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;

  /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":111
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":113
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i             # <<<<<<<<<<<<<<
 *                 return
 *     else:
 */
        (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)__pyx_v_i);

        /* "skimage/filters/rank/generic_cy.pyx":114
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 *                 return             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
        goto __pyx_L0;

        /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      }
    }

    /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":116
 *                 return
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":101
 * 
 * 
 * cdef inline void _kernel_maximum(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                  Py_ssize_t* histo,
 *                                  double pop, dtype_t g,
 */

  /* function exit code */
  __pyx_L0:;
}

static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;

  /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":111
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":113
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i             # <<<<<<<<<<<<<<
 *                 return
 *     else:
 */
        (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)__pyx_v_i);

        /* "skimage/filters/rank/generic_cy.pyx":114
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 *                 return             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
        goto __pyx_L0;

        /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      }
    }

    /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":116
 *                 return
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":101
 * 
 * 
 * cdef inline void _kernel_maximum(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                  Py_ssize_t* histo,
 *                                  double pop, dtype_t g,
 */

  /* function exit code */
  __pyx_L0:;
}

static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_maximum(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;

  /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":111
 * 
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 */
    for (__pyx_t_2 = (__pyx_v_max_bin - 1); __pyx_t_2 > -1L; __pyx_t_2-=1) {
      __pyx_v_i = __pyx_t_2;

      /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":113
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i             # <<<<<<<<<<<<<<
 *                 return
 *     else:
 */
        (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)__pyx_v_i);

        /* "skimage/filters/rank/generic_cy.pyx":114
 *             if histo[i]:
 *                 out[0] = <dtype_t_out>i
 *                 return             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
        goto __pyx_L0;

        /* "skimage/filters/rank/generic_cy.pyx":112
 *     if pop:
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 out[0] = <dtype_t_out>i
 *                 return
 */
      }
    }

    /* "skimage/filters/rank/generic_cy.pyx":110
 *     cdef Py_ssize_t i
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin - 1, -1, -1):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":116
 *                 return
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":101
 * 
 * 
 * cdef inline void _kernel_maximum(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                  Py_ssize_t* histo,
 *                                  double pop, dtype_t g,
 */

  /* function exit code */
  __pyx_L0:;
}

/* "skimage/filters/rank/generic_cy.pyx":119
 * 
 * 
 * cdef inline void _kernel_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                               Py_ssize_t* histo,
 *                               double pop, dtype_t g,
 */

static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":127
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t mean = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0;

  /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":130
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":131
 *     if pop:
 *         for i in range(max_bin):
 *             mean += histo[i] * i             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 */
      __pyx_v_mean = (__pyx_v_mean + ((__pyx_v_histo[__pyx_v_i]) * __pyx_v_i));
    }

    /* "skimage/filters/rank/generic_cy.pyx":132
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)(__pyx_v_mean / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":134
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":119
 * 
 * 
 * cdef inline void _kernel_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                               Py_ssize_t* histo,
 *                               double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":127
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t mean = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0;

  /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":130
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":131
 *     if pop:
 *         for i in range(max_bin):
 *             mean += histo[i] * i             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 */
      __pyx_v_mean = (__pyx_v_mean + ((__pyx_v_histo[__pyx_v_i]) * __pyx_v_i));
    }

    /* "skimage/filters/rank/generic_cy.pyx":132
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)(__pyx_v_mean / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":134
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":119
 * 
 * 
 * cdef inline void _kernel_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                               Py_ssize_t* histo,
 *                               double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":127
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t mean = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0;

  /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":130
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":131
 *     if pop:
 *         for i in range(max_bin):
 *             mean += histo[i] * i             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 */
      __pyx_v_mean = (__pyx_v_mean + ((__pyx_v_histo[__pyx_v_i]) * __pyx_v_i));
    }

    /* "skimage/filters/rank/generic_cy.pyx":132
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)(__pyx_v_mean / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":134
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":119
 * 
 * 
 * cdef inline void _kernel_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                               Py_ssize_t* histo,
 *                               double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":127
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t mean = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0;

  /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":130
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":131
 *     if pop:
 *         for i in range(max_bin):
 *             mean += histo[i] * i             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 */
      __pyx_v_mean = (__pyx_v_mean + ((__pyx_v_histo[__pyx_v_i]) * __pyx_v_i));
    }

    /* "skimage/filters/rank/generic_cy.pyx":132
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)(__pyx_v_mean / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":134
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":119
 * 
 * 
 * cdef inline void _kernel_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                               Py_ssize_t* histo,
 *                               double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":127
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t mean = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0;

  /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":130
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":131
 *     if pop:
 *         for i in range(max_bin):
 *             mean += histo[i] * i             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 */
      __pyx_v_mean = (__pyx_v_mean + ((__pyx_v_histo[__pyx_v_i]) * __pyx_v_i));
    }

    /* "skimage/filters/rank/generic_cy.pyx":132
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)(__pyx_v_mean / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":134
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":119
 * 
 * 
 * cdef inline void _kernel_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                               Py_ssize_t* histo,
 *                               double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_mean(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  Py_ssize_t __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":127
 * 
 *     cdef Py_ssize_t i
 *     cdef Py_ssize_t mean = 0             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0;

  /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":130
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":131
 *     if pop:
 *         for i in range(max_bin):
 *             mean += histo[i] * i             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 */
      __pyx_v_mean = (__pyx_v_mean + ((__pyx_v_histo[__pyx_v_i]) * __pyx_v_i));
    }

    /* "skimage/filters/rank/generic_cy.pyx":132
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 *         out[0] = <dtype_t_out>(mean / pop)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)(__pyx_v_mean / __pyx_v_pop));

    /* "skimage/filters/rank/generic_cy.pyx":129
 *     cdef Py_ssize_t mean = 0
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             mean += histo[i] * i
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":134
 *         out[0] = <dtype_t_out>(mean / pop)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":119
 * 
 * 
 * cdef inline void _kernel_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                               Py_ssize_t* histo,
 *                               double pop, dtype_t g,
 */

  /* function exit code */
}

/* "skimage/filters/rank/generic_cy.pyx":137
 * 
 * 
 * cdef inline void _kernel_geometric_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                         Py_ssize_t* histo,
 *                                         double pop, dtype_t g,
 */

static CYTHON_INLINE void __pyx_fuse_0_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  double __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":145
 * 
 *     cdef Py_ssize_t i
 *     cdef double mean = 0.             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0.;

  /* "skimage/filters/rank/generic_cy.pyx":147
 *     cdef double mean = 0.
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":148
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":149
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":150
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 *     else:
 */
        __pyx_v_mean = (__pyx_v_mean + ((__pyx_v_histo[__pyx_v_i]) * log((__pyx_v_i + 1))));

        /* "skimage/filters/rank/generic_cy.pyx":149
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 */
      }
    }

    /* "skimage/filters/rank/generic_cy.pyx":151
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)__pyx_f_7skimage_7_shared_13interpolation_round((exp((__pyx_v_mean / __pyx_v_pop)) - 1.0)));

    /* "skimage/filters/rank/generic_cy.pyx":147
 *     cdef double mean = 0.
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":153
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":137
 * 
 * 
 * cdef inline void _kernel_geometric_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                         Py_ssize_t* histo,
 *                                         double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_0_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_uint8_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  double __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":145
 * 
 *     cdef Py_ssize_t i
 *     cdef double mean = 0.             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0.;

  /* "skimage/filters/rank/generic_cy.pyx":147
 *     cdef double mean = 0.
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":148
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":149
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":150
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 *     else:
 */
        __pyx_v_mean = (__pyx_v_mean + ((__pyx_v_histo[__pyx_v_i]) * log((__pyx_v_i + 1))));

        /* "skimage/filters/rank/generic_cy.pyx":149
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 */
      }
    }

    /* "skimage/filters/rank/generic_cy.pyx":151
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)__pyx_f_7skimage_7_shared_13interpolation_round((exp((__pyx_v_mean / __pyx_v_pop)) - 1.0)));

    /* "skimage/filters/rank/generic_cy.pyx":147
 *     cdef double mean = 0.
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":153
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint8_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":137
 * 
 * 
 * cdef inline void _kernel_geometric_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                         Py_ssize_t* histo,
 *                                         double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  double __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":145
 * 
 *     cdef Py_ssize_t i
 *     cdef double mean = 0.             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0.;

  /* "skimage/filters/rank/generic_cy.pyx":147
 *     cdef double mean = 0.
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":148
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":149
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":150
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 *     else:
 */
        __pyx_v_mean = (__pyx_v_mean + ((__pyx_v_histo[__pyx_v_i]) * log((__pyx_v_i + 1))));

        /* "skimage/filters/rank/generic_cy.pyx":149
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 */
      }
    }

    /* "skimage/filters/rank/generic_cy.pyx":151
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)__pyx_f_7skimage_7_shared_13interpolation_round((exp((__pyx_v_mean / __pyx_v_pop)) - 1.0)));

    /* "skimage/filters/rank/generic_cy.pyx":147
 *     cdef double mean = 0.
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":153
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":137
 * 
 * 
 * cdef inline void _kernel_geometric_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                         Py_ssize_t* histo,
 *                                         double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_1_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_uint16_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  double __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":145
 * 
 *     cdef Py_ssize_t i
 *     cdef double mean = 0.             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0.;

  /* "skimage/filters/rank/generic_cy.pyx":147
 *     cdef double mean = 0.
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":148
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":149
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":150
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 *     else:
 */
        __pyx_v_mean = (__pyx_v_mean + ((__pyx_v_histo[__pyx_v_i]) * log((__pyx_v_i + 1))));

        /* "skimage/filters/rank/generic_cy.pyx":149
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 */
      }
    }

    /* "skimage/filters/rank/generic_cy.pyx":151
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)__pyx_f_7skimage_7_shared_13interpolation_round((exp((__pyx_v_mean / __pyx_v_pop)) - 1.0)));

    /* "skimage/filters/rank/generic_cy.pyx":147
 *     cdef double mean = 0.
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":153
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_uint16_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":137
 * 
 * 
 * cdef inline void _kernel_geometric_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                         Py_ssize_t* histo,
 *                                         double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_0__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint8_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  double __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":145
 * 
 *     cdef Py_ssize_t i
 *     cdef double mean = 0.             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0.;

  /* "skimage/filters/rank/generic_cy.pyx":147
 *     cdef double mean = 0.
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
  __pyx_t_1 = (__pyx_v_pop != 0);
  if (__pyx_t_1) {

    /* "skimage/filters/rank/generic_cy.pyx":148
 * 
 *     if pop:
 *         for i in range(max_bin):             # <<<<<<<<<<<<<<
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))
 */
    __pyx_t_2 = __pyx_v_max_bin;
    for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;

      /* "skimage/filters/rank/generic_cy.pyx":149
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 */
      __pyx_t_1 = ((__pyx_v_histo[__pyx_v_i]) != 0);
      if (__pyx_t_1) {

        /* "skimage/filters/rank/generic_cy.pyx":150
 *         for i in range(max_bin):
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))             # <<<<<<<<<<<<<<
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 *     else:
 */
        __pyx_v_mean = (__pyx_v_mean + ((__pyx_v_histo[__pyx_v_i]) * log((__pyx_v_i + 1))));

        /* "skimage/filters/rank/generic_cy.pyx":149
 *     if pop:
 *         for i in range(max_bin):
 *             if histo[i]:             # <<<<<<<<<<<<<<
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 */
      }
    }

    /* "skimage/filters/rank/generic_cy.pyx":151
 *             if histo[i]:
 *                 mean += (histo[i] * log(i+1))
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)             # <<<<<<<<<<<<<<
 *     else:
 *         out[0] = <dtype_t_out>0
 */
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)__pyx_f_7skimage_7_shared_13interpolation_round((exp((__pyx_v_mean / __pyx_v_pop)) - 1.0)));

    /* "skimage/filters/rank/generic_cy.pyx":147
 *     cdef double mean = 0.
 * 
 *     if pop:             # <<<<<<<<<<<<<<
 *         for i in range(max_bin):
 *             if histo[i]:
 */
    goto __pyx_L3;
  }

  /* "skimage/filters/rank/generic_cy.pyx":153
 *         out[0] = <dtype_t_out>round(exp(mean / pop)-1)
 *     else:
 *         out[0] = <dtype_t_out>0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  /*else*/ {
    (__pyx_v_out[0]) = ((__pyx_t_5numpy_double_t)0);
  }
  __pyx_L3:;

  /* "skimage/filters/rank/generic_cy.pyx":137
 * 
 * 
 * cdef inline void _kernel_geometric_mean(dtype_t_out* out, Py_ssize_t odepth,             # <<<<<<<<<<<<<<
 *                                         Py_ssize_t* histo,
 *                                         double pop, dtype_t g,
 */

  /* function exit code */
}

static CYTHON_INLINE void __pyx_fuse_2_1__pyx_f_7skimage_7filters_4rank_10generic_cy__kernel_geometric_mean(__pyx_t_5numpy_double_t *__pyx_v_out, CYTHON_UNUSED Py_ssize_t __pyx_v_odepth, Py_ssize_t *__pyx_v_histo, double __pyx_v_pop, CYTHON_UNUSED __pyx_t_5numpy_uint16_t __pyx_v_g, Py_ssize_t __pyx_v_max_bin, CYTHON_UNUSED Py_ssize_t __pyx_v_mid_bin, CYTHON_UNUSED double __pyx_v_p0, CYTHON_UNUSED double __pyx_v_p1, CYTHON_UNUSED Py_ssize_t __pyx_v_s0, CYTHON_UNUSED Py_ssize_t __pyx_v_s1) {
  Py_ssize_t __pyx_v_i;
  double __pyx_v_mean;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  Py_ssize_t __pyx_t_3;

  /* "skimage/filters/rank/generic_cy.pyx":145
 * 
 *     cdef Py_ssize_t i
 *     cdef double mean = 0.             # <<<<<<<<<<<<<<
 * 
 *     if pop:
 */
  __pyx_v_mean = 0.;

  /* "skimage/filters/rank/generic_cy